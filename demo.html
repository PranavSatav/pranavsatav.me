<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie Streaming Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/tsparticles@3.1.0/tsparticles.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css" />
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            dark: '#0f172a',
            darker: '#020617',
            primary: '#0ea5e9',
            accent: '#8fff8f'
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            space: ['"Space Grotesk"', 'sans-serif']
          }
        }
      }
    }
  </script>
  <style>
    .glass {
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }
    
    /* Hide scrollbar for Chrome/Safari */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }
    
    /* Hide scrollbar for Firefox/Edge */
    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
    
    /* Fade in animation */
    @keyframes fadeIn {
      0% { opacity: 0; transform: translateY(10px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.5s forwards;
    }

    /* Tab transition animations */
    .tab-content {
      transition: all 0.4s ease-in-out;
    }
    
    .tab-content.hidden {
      opacity: 0;
      transform: translateY(20px);
    }
    
    .tab-content.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Uptime period buttons */
    .uptime-period-btn.active {
      background-color: rgba(59, 130, 246, 0.3);
      color: rgba(191, 219, 254, 1);
    }
    
    /* Status card hover effects */
    .glass:hover .aspect-video img {
      transform: scale(1.05);
      transition: transform 0.3s ease;
    }
    
    .aspect-video img {
      transition: transform 0.3s ease;
    }
    
    /* Blur effect enhancements */
    .backdrop-blur-sm {
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    
    .backdrop-blur-lg {
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }
    
    .blur-3xl {
      filter: blur(64px);
    }
    
    /* Anime About tab styles */
    @keyframes float {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }
    
    .character-float {
      animation: float 3s ease-in-out infinite;
    }
    
    .character-glow {
      animation: pulse 2s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 0.3; }
      50% { opacity: 0.6; }
      100% { opacity: 0.3; }
    }
    
    /* Swiper custom styles */
    .swiper-pagination-bullet {
      background: white !important;
      opacity: 0.5;
      width: 6px !important;
      height: 6px !important;
      margin: 0 4px !important;
    }
    
    .swiper-pagination-bullet-active {
      background: white !important;
      opacity: 1;
      width: 8px !important;
      height: 8px !important;
    }
    
    /* Movie card styles */
    .movie-card {
      transition: all 0.3s ease;
      position: relative;
    }

    .movie-card:hover {
      transform: translateY(-5px);
    }

    .movie-card .card-content {
      position: relative;
      overflow: hidden;
      background: rgba(31, 41, 55, 0.5);
    }

    .movie-card .card-content::before {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .movie-card:hover .card-content::before {
      opacity: 1;
    }

    .movie-card .card-info {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 1rem;
      transform: translateY(100%);
      transition: transform 0.3s ease;
      z-index: 2;
    }

    .movie-card:hover .card-info {
      transform: translateY(0);
    }

    .movie-card .card-title {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: white;
    }

    .movie-card .card-meta {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.875rem;
    }

    .movie-card .card-actions {
      margin-top: 0.75rem;
      display: flex;
      justify-content: center;
    }

    .movie-card .watch-btn {
      width: auto;
      background: linear-gradient(45deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.2));
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      color: white;
      padding: 0.5rem 1rem;
      font-weight: 500;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
      text-align: center;
      font-size: 0.875rem;
    }

    .movie-card .watch-btn:hover {
      transform: translateY(-2px);
      background: linear-gradient(45deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.3));
    }

    /* Star rating */
    .star-rating {
      color: gold;
    }
    
    /* Badge style */
    .badge {
      background: rgba(14, 165, 233, 0.2);
      border: 1px solid rgba(14, 165, 233, 0.3);
      color: #0ea5e9;
      font-size: 0.7rem;
      padding: 0.1rem 0.5rem;
      border-radius: 4px;
    }
    
    /* Swiper container sizing */
    .swiper {
      padding: 10px 0 30px 0 !important;
      margin: 0 !important;
      width: 100%;
    }

    .swiper-slide {
      width: 140px !important;
      margin-right: 12px !important;
      height: auto !important;
    }

    @media (min-width: 640px) {
      .swiper-slide {
        width: 160px !important;
        margin-right: 16px !important;
      }
    }

    @media (min-width: 1024px) {
      .swiper-slide {
        width: 180px !important;
      }
    }

    .swiper-wrapper {
      display: flex;
      align-items: stretch;
      padding-right: 12px;
    }

    @media (min-width: 640px) {
      .swiper-wrapper {
        padding-right: 16px;
      }
    }

    /* Category folder styles */
    .category-folder {
      transition: all 0.3s ease;
    }

    .category-folder.expanded {
      margin-bottom: 1rem;
    }

    .category-folder-header {
      cursor: pointer;
      padding: 1rem;
      border-radius: 0.5rem;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }

    .category-folder-header:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .category-folder-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .category-folder.expanded .category-folder-content {
      max-height: 1000px;
    }

    /* Recent activity styles */
    .recent-activity {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 0.5rem;
      padding: 1rem;
    }

    .recent-activity-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.5rem;
      border-radius: 0.5rem;
      transition: background 0.3s ease;
    }

    .recent-activity-item:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    /* Watch button styles */
    .watch-btn {
      background: linear-gradient(45deg, #0ea5e9, #3b82f6);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      font-weight: 500;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .watch-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    /* Hero slider specific styles */
    .heroSwiper {
      height: 300px !important;
      margin: 0 !important;
      padding: 0 !important;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
    }

    @media (min-width: 640px) {
      .heroSwiper {
        height: 400px !important;
      }
    }

    @media (min-width: 1024px) {
      .heroSwiper {
        height: 600px !important;
      }
    }

    .heroSwiper .swiper-slide {
      width: 100% !important;
      margin: 0 !important;
      position: relative;
    }

    .heroSwiper .swiper-slide::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, 
        rgba(0,0,0,0.2) 0%, 
        rgba(0,0,0,0.4) 50%,
        rgba(0,0,0,0.8) 100%
      );
      z-index: 1;
    }

    .hero-content {
      position: relative;
      z-index: 2;
      padding: 1.5rem;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      max-width: 100%;
    }

    @media (min-width: 640px) {
      .hero-content {
        padding: 2rem;
        max-width: 600px;
      }
    }

    @media (min-width: 1024px) {
      .hero-content {
        padding: 3rem;
        max-width: 800px;
      }
    }

    .hero-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
      text-shadow: 0 2px 4px rgba(0,0,0,0.5);
      line-height: 1.1;
    }

    @media (min-width: 640px) {
      .hero-title {
        font-size: 2.5rem;
      }
    }

    @media (min-width: 1024px) {
      .hero-title {
        font-size: 3.5rem;
      }
    }

    .hero-meta {
      display: flex;
      align-items: center;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .hero-rating {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 1.25rem;
    }

    .hero-overview {
      font-size: 0.875rem;
      line-height: 1.5;
      margin-bottom: 1rem;
      opacity: 0.9;
      text-shadow: 0 1px 2px rgba(0,0,0,0.3);
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    @media (min-width: 640px) {
      .hero-overview {
        font-size: 1rem;
        -webkit-line-clamp: 4;
      }
    }

    @media (min-width: 1024px) {
      .hero-overview {
        font-size: 1.2rem;
        -webkit-line-clamp: 5;
      }
    }

    .hero-actions {
      display: flex;
      gap: 0.75rem;
      margin-bottom: 0.75rem;
      flex-wrap: wrap;
    }

    .hero-btn {
      padding: 0.5rem 1rem;
      font-weight: 600;
      font-size: 0.875rem;
      transition: all 0.3s ease;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    @media (min-width: 640px) {
      .hero-btn {
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
      }
    }

    .hero-btn-primary {
      background: linear-gradient(45deg, #0ea5e9, #3b82f6);
      color: white;
      border: none;
    }

    .hero-btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
    }

    .hero-btn-secondary {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .hero-btn-secondary:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    /* Search dropdown styles */
    #searchDropdown {
      background: rgba(31, 41, 55, 0.2);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      max-height: 400px;
      overflow-y: auto;
      scrollbar-width: none;
      margin-top: 0.5rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }

    #searchDropdown::-webkit-scrollbar {
      display: none;
    }

    .search-result-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      transition: background 0.3s ease;
    }

    .search-result-item:hover {
      background: rgba(255, 255, 255, 0.1);
    }

    .search-result-poster {
      width: 60px;
      height: 90px;
      object-fit: cover;
      border-radius: 0.25rem;
    }

    .search-result-info {
      flex: 1;
      min-width: 0;
    }

    .search-result-title {
      font-weight: 600;
      margin-bottom: 0.25rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .search-result-meta {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-size: 0.875rem;
      color: rgba(255, 255, 255, 0.7);
    }
    
    /* Info Modal Styles */
    .info-modal {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      z-index: 100;
      display: none;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .info-modal.active {
      display: flex;
      opacity: 1;
    }

    .info-modal-content {
      background: rgba(31, 41, 55, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 1rem;
      max-width: 800px;
      width: 90%;
      margin: auto;
      position: relative;
      transform: translateY(20px);
      transition: transform 0.3s ease;
    }

    .info-modal.active .info-modal-content {
      transform: translateY(0);
    }

    .info-modal-header {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .info-modal-body {
      padding: 1.5rem;
      display: grid;
      grid-template-columns: 1fr 2fr;
      gap: 1.5rem;
    }

    .info-modal-poster {
      border-radius: 0.5rem;
      overflow: hidden;
    }

    .info-modal-details {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .info-modal-genres {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .info-modal-genre {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: white;
      font-size: 0.75rem;
      padding: 0.25rem 0.5rem;
      border-radius: 0.25rem;
    }

    /* Categories Tab Styles */
    .categories-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }

    .category-card {
      background: rgba(31, 41, 55, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 1rem;
      overflow: hidden;
      transition: all 0.3s ease;
      position: relative;
    }

    .category-card:hover {
      transform: translateY(-5px);
      border-color: rgba(14, 165, 233, 0.5);
    }

    .category-card::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.8));
      z-index: 1;
    }

    .category-card-content {
      position: relative;
      z-index: 2;
      padding: 1.5rem;
      height: 100%;
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
    }

    .category-card-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .category-card-description {
      font-size: 0.875rem;
      color: rgba(255, 255, 255, 0.7);
      margin-bottom: 1rem;
    }

    .category-card-meta {
      display: flex;
      gap: 1rem;
      font-size: 0.875rem;
      color: rgba(255, 255, 255, 0.5);
    }

    .recent-watches {
      background: rgba(31, 41, 55, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 1rem;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .recent-watches-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 1rem;
    }

    .recent-watch-item {
      position: relative;
      border-radius: 0.5rem;
      overflow: hidden;
      aspect-ratio: 2/3;
    }

    .recent-watch-item::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, transparent 50%, rgba(0, 0, 0, 0.8));
      z-index: 1;
    }

    .recent-watch-info {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 1rem;
      z-index: 2;
    }

    .recent-watch-title {
      font-size: 0.875rem;
      font-weight: 500;
      margin-bottom: 0.25rem;
    }

    .recent-watch-date {
      font-size: 0.75rem;
      color: rgba(255, 255, 255, 0.7);
    }

    /* Info button hover effect */
    .movie-card .details-btn {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      transition: all 0.3s ease;
    }

    .movie-card .details-btn:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }

    /* Number badge styles */
    .number-badge {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      color: white;
      font-weight: 600;
    }

    /* Info modal styles */
    .info-modal {
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
    }

    .info-modal-content {
      background: rgba(31, 41, 55, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .info-modal-genre {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      color: white;
    }

    /* Tab Navigation Styles */
    .tab-btn {
      position: relative;
      padding: 0.5rem 1rem;
      font-weight: 500;
      transition: all 0.3s ease;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      margin: 0 0.125rem;
      font-size: 0.875rem;
    }

    @media (min-width: 640px) {
      .tab-btn {
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
        margin: 0 0.25rem;
      }
    }

    .tab-btn:not(.bg-primary) {
      background: rgba(255, 255, 255, 0.05);
      color: rgba(255, 255, 255, 0.7);
    }

    .tab-btn:not(.bg-primary):hover {
      background: rgba(255, 255, 255, 0.1);
      color: white;
    }

    .tab-btn.bg-primary {
      background: linear-gradient(45deg, rgba(14, 165, 233, 0.8), rgba(59, 130, 246, 0.8));
      box-shadow: 0 4px 6px -1px rgba(14, 165, 233, 0.2);
    }

    /* Player Modal Styles */
    #playerModal {
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
    }

    #playerModal .bg-gray-900\/95 {
      background: rgba(31, 41, 55, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    #playerModal #closePlayer {
      background: rgba(239, 68, 68, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    #playerModal #closePlayer:hover {
      background: rgba(239, 68, 68, 1);
    }

    #playerModal select,
    #playerModal input {
      background: rgba(31, 41, 55, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    #playerModal #updateEpisode {
      background: rgba(31, 41, 55, 0.8);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    #playerModal #updateEpisode:hover {
      background: rgba(31, 41, 55, 1);
    }

    /* Swiper Pagination Fixes */
    .swiper-pagination-bullet {
      width: 8px !important;
      height: 8px !important;
      background: rgba(255, 255, 255, 0.5) !important;
      opacity: 0.5 !important;
      margin: 0 4px !important;
      transition: all 0.3s ease !important;
    }

    .swiper-pagination-bullet-active {
      width: 10px !important;
      height: 10px !important;
      background: white !important;
      opacity: 1 !important;
    }

    /* Hero Swiper Fixes */
    .heroSwiper {
      height: 300px !important;
      margin: 0 !important;
      padding: 0 !important;
      position: relative;
      border-radius: 12px;
      overflow: hidden;
    }

    @media (min-width: 640px) {
      .heroSwiper {
        height: 400px !important;
      }
    }

    @media (min-width: 1024px) {
      .heroSwiper {
        height: 600px !important;
      }
    }

    .heroSwiper .swiper-slide {
      width: 100% !important;
      margin: 0 !important;
      position: relative;
    }

    .heroSwiper .swiper-pagination {
      bottom: 20px !important;
      z-index: 10;
    }

    /* Update Hero Swiper Initialization */
    function initializeSwipers() {
      // Hero swiper
      swipers.hero = new Swiper('.heroSwiper', {
        slidesPerView: 1,
        spaceBetween: 0,
        centeredSlides: true,
        autoplay: {
          delay: 6000,
          disableOnInteraction: false,
          pauseOnMouseEnter: true
        },
        loop: true,
        effect: 'fade',
        fadeEffect: {
          crossFade: true
        },
        speed: 1500,
        observer: true,
        observeParents: true,
        preventInteractionOnTransition: true,
        watchSlidesProgress: true,
        watchSlidesVisibility: true
      });
      
      // Top 10 swiper
      swipers.top10 = new Swiper('.top10Swiper', {
        slidesPerView: 1.2,
        spaceBetween: 12,
        navigation: {
          nextEl: '.top10Swiper .swiper-button-next',
          prevEl: '.top10Swiper .swiper-button-prev',
        },
        observer: true,
        observeParents: true,
        watchSlidesProgress: true,
        watchSlidesVisibility: true,
        resistanceRatio: 0,
        preventInteractionOnTransition: true,
        breakpoints: {
          640: {
            slidesPerView: 2.2,
            spaceBetween: 16,
          },
          768: {
            slidesPerView: 3.2,
          },
          1024: {
            slidesPerView: 4.2,
          }
        }
      });
      
      // Initialize other swipers with the same configuration
      const swiperSelectors = ['.trendingSwiper', '.newReleasesSwiper', '.horrorSwiper', '.animeSwiper'];
      swiperSelectors.forEach(selector => {
        const id = selector.replace('.', '').replace('Swiper', '');
        swipers[id] = new Swiper(selector, {
          slidesPerView: 1.5,
          spaceBetween: 12,
          freeMode: false,
          watchSlidesProgress: true,
          watchSlidesVisibility: true,
          resistanceRatio: 0,
          preventInteractionOnTransition: true,
          navigation: {
            nextEl: `${selector} .swiper-button-next`,
            prevEl: `${selector} .swiper-button-prev`,
          },
          observer: true,
          observeParents: true,
          breakpoints: {
            640: {
              slidesPerView: 2.2,
              spaceBetween: 16,
            },
            768: {
              slidesPerView: 3.2,
            },
            1024: {
              slidesPerView: 4.2,
            }
          }
        });
      });
    }

    /* Update player modal HTML */
    <div id="playerModal" class="hidden fixed inset-0 z-50 flex flex-col">
      <div class="bg-gray-900/95 backdrop-blur-lg p-3 flex flex-wrap justify-between items-center gap-3 border-b border-gray-800">
        <button id="closePlayer" class="w-8 h-8 bg-red-600/80 hover:bg-red-600 flex items-center justify-center text-white font-bold transition-colors">&times;</button>
        <div id="playerTitle" class="flex-1 text-center text-white font-medium truncate px-4">Loading...</div>
        <div class="flex items-center gap-3">
          <div id="tvControls" class="hidden items-center gap-2">
            <span class="text-xs text-gray-400">S</span>
            <input type="number" id="seasonInput" min="1" value="1" class="w-14 py-1 px-2 bg-gray-800 rounded text-center text-white text-sm border border-gray-700">
            <span class="text-xs text-gray-400">E</span>
            <input type="number" id="episodeInput" min="1" value="1" class="w-14 py-1 px-2 bg-gray-800 rounded text-center text-white text-sm border border-gray-700">
            <button id="updateEpisode" class="bg-gray-800 hover:bg-gray-700 text-white py-1 px-3 text-sm transition-colors">▶</button>
          </div>
          <select id="sourceSelect" class="bg-gray-800 border border-gray-700 text-white text-sm"></select>
        </div>
      </div>
      <div class="flex-1 relative">
        <div class="absolute inset-0 flex items-center justify-center">
          <div class="w-16 h-16 border-4 border-white rounded-full animate-spin border-t-transparent"></div>
        </div>
        <iframe sandbox="allow-scripts allow-same-origin allow-presentation" id="videoFrame" class="absolute inset-0 w-full h-full border-0" scrolling="no" allowfullscreen></iframe>
      </div>
    </div>

    <!-- Update Tab Navigation HTML -->
    <nav class="flex justify-center">
      <div class="inline-flex">
        <button id="tab-stream" class="tab-btn">Stream</button>
        <button id="tab-about" class="tab-btn">About</button>
        <button id="tab-projects" class="tab-btn">Projects</button>
        <button id="tab-status" class="tab-btn">Status</button>
      </div>
    </nav>

    /* Animation for skill bars and timeline */
    .skill-bar {
      transition: width 1.5s ease-in-out;
    }
    
    .character-float {
      animation: float 4s ease-in-out infinite;
    }
    
    .animate-pulse-slow {
      animation: pulse 3s ease-in-out infinite;
    }
    
    .animate-float {
      animation: float 4s ease-in-out infinite;
    }
    
    .fade-in-right {
      opacity: 0;
      transform: translateX(-20px);
      transition: all 0.7s ease-out;
    }
    
    .fade-in-left {
      opacity: 0;
      transform: translateX(20px);
      transition: all 0.7s ease-out;
    }
    
    .fade-in-right.appear, .fade-in-left.appear {
      opacity: 1;
      transform: translateX(0);
    }
    
    .typewriter {
      overflow: hidden;
      white-space: nowrap;
      border-right: 2px solid rgba(255, 105, 180, 0.7);
      animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
      animation-fill-mode: forwards;
    }
    
    @keyframes float {
      0% {
        transform: translateY(0px);
      }
      50% {
        transform: translateY(-15px);
      }
      100% {
        transform: translateY(0px);
      }
    }
    
    @keyframes pulse {
      0% {
        opacity: 0.4;
      }
      50% {
        opacity: 0.7;
      }
      100% {
        opacity: 0.4;
      }
    }
    
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    
    @keyframes blink-caret {
      from, to { border-color: transparent }
      50% { border-color: rgba(255, 105, 180, 0.7) }
    }
    
    /* Glass effect */
    .glass {
      background: rgba(30, 30, 45, 0.3);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
    }
  </style>
  
</head>
<body class="bg-darker text-white min-h-screen">
  <div class="max-w-7xl mx-auto">
    <!-- Header Section with navigation tabs -->
    <header class="pt-6 pb-2 px-4 relative">
      <!-- Top navigation -->
      <div class="flex flex-col items-center gap-4 mb-8">
        <!-- Tab Navigation -->
        <nav class="flex justify-center w-full">
          <div class="inline-flex">
            <button id="tab-stream" class="tab-btn">Stream</button>
            <button id="tab-about" class="tab-btn">About</button>
            <button id="tab-projects" class="tab-btn">Projects</button>
            <button id="tab-status" class="tab-btn">Status</button>
          </div>
        </nav>
        
        <!-- Social links -->
        <div class="flex gap-4 justify-center">
          <a href="https://www.instagram.com/pranv_satv/" target="_blank" class="opacity-70 hover:opacity-100 transition-opacity">
            <img src="https://img.icons8.com/ios-filled/22/ffffff/instagram-new.png" alt="Instagram">
          </a>
          <a href="https://www.linkedin.com/in/pranav-satav-b187102a5/" target="_blank" class="opacity-70 hover:opacity-100 transition-opacity">
            <img src="https://img.icons8.com/ios-filled/22/ffffff/linkedin.png" alt="LinkedIn">
          </a>
          <a href="https://github.com/PranavSatav" target="_blank" class="opacity-70 hover:opacity-100 transition-opacity">
            <img src="https://img.icons8.com/ios-glyphs/22/ffffff/github.png" alt="GitHub">
          </a>
        </div>
      </div>
    </header>

    <style>
    /* Update header styles for mobile */
    @media (min-width: 640px) {
      header .flex-col {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        gap: 0;
      }
    }
    </style>

    <!-- Main Content Area -->
    <main class="px-4 pb-12 relative z-10">
      <!-- Stream Tab Content -->
      <section id="content-stream" class="tab-content visible">
        <!-- Hero Slider Section -->
        <div class="mb-10 mt-2">
          <div class="swiper heroSwiper">
            <div class="swiper-wrapper">
              <!-- Slider items will be added dynamically -->
            </div>
            <div class="swiper-pagination"></div>
          </div>
        </div>
        
        <!-- Search and Filters -->
        <div class="mb-8 flex flex-wrap gap-3 items-center justify-between">
          <div class="relative flex-grow max-w-xl">
            <input type="text" id="movieSearchInput" class="w-full py-2.5 px-5 pl-10 rounded-full bg-gray-800/60 border border-gray-700 text-white focus:ring-2 focus:ring-primary focus:border-primary outline-none" placeholder="Search Movies / Series / TV Shows...">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 absolute left-3 top-3 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <div id="searchDropdown" class="absolute z-50 w-full mt-2 bg-gray-800/95 rounded-lg shadow-lg border border-gray-700 hidden max-h-96 overflow-y-auto">
              <!-- Search results will be populated here -->
            </div>
          </div>
          
          <div class="flex gap-2">
            <select id="typeFilter" class="bg-gray-800/60 border border-gray-700 text-white py-2 px-3 rounded-lg text-sm">
              <option value="all">All Types</option>
              <option value="movie">Movies Only</option>
              <option value="tv">TV Shows Only</option>
            </select>
            
            <select id="genreFilter" class="bg-gray-800/60 border border-gray-700 text-white py-2 px-3 rounded-lg text-sm">
              <option value="all">All Genres</option>
              <option value="28">Action</option>
              <option value="12">Adventure</option>
              <option value="16">Animation</option>
              <option value="35">Comedy</option>
              <option value="80">Crime</option>
              <option value="99">Documentary</option>
              <option value="18">Drama</option>
              <option value="10751">Family</option>
              <option value="14">Fantasy</option>
              <option value="36">History</option>
              <option value="27">Horror</option>
              <option value="10402">Music</option>
              <option value="9648">Mystery</option>
              <option value="10749">Romance</option>
              <option value="878">Science Fiction</option>
              <option value="53">Thriller</option>
              <option value="10752">War</option>
              <option value="37">Western</option>
            </select>
            
            <select id="sortFilter" class="bg-gray-800/60 border border-gray-700 text-white py-2 px-3 rounded-lg text-sm">
              <option value="popularity.desc">Popularity</option>
              <option value="vote_average.desc">Rating</option>
              <option value="release_date.desc">Newest</option>
              <option value="release_date.asc">Oldest</option>
            </select>
          </div>
        </div>
        
        <!-- Top 10 Picks Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-bold mb-4 flex items-center">
            <span class="mr-2 text-primary">#</span>Top 10 Picks
          </h2>
          <div class="swiper top10Swiper">
            <div class="swiper-wrapper" id="top10Container"></div>
            <div class="swiper-button-next text-white"></div>
            <div class="swiper-button-prev text-white"></div>
          </div>
        </div>
        
        <!-- Trending Now Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-bold mb-4">
            <span class="text-primary">🔥</span> Trending Now
          </h2>
          <div class="swiper trendingSwiper">
            <div class="swiper-wrapper" id="trendingContainer"></div>
            <div class="swiper-button-next text-white"></div>
            <div class="swiper-button-prev text-white"></div>
          </div>
        </div>
        
        <!-- New Releases Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-bold mb-4">
            <span class="text-primary">✨</span> New Releases
          </h2>
          <div class="swiper newReleasesSwiper">
            <div class="swiper-wrapper" id="newReleasesContainer"></div>
            <div class="swiper-button-next text-white"></div>
            <div class="swiper-button-prev text-white"></div>
          </div>
        </div>
        
        <!-- Horror Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-bold mb-4">
            <span class="text-primary">👻</span> Horror Movies
          </h2>
          <div class="swiper horrorSwiper">
            <div class="swiper-wrapper" id="horrorContainer"></div>
            <div class="swiper-button-next text-white"></div>
            <div class="swiper-button-prev text-white"></div>
          </div>
        </div>
        
        <!-- Anime Section -->
        <div class="mb-10">
          <h2 class="text-2xl font-bold mb-4">
            <span class="text-primary">🎌</span> Anime
          </h2>
          <div class="swiper animeSwiper">
            <div class="swiper-wrapper" id="animeContainer"></div>
            <div class="swiper-button-next text-white"></div>
            <div class="swiper-button-prev text-white"></div>
          </div>
        </div>
        
        <!-- Search Results -->
        <div id="searchResultsSection" class="mb-10 hidden">
          <h2 class="text-2xl font-bold mb-4">Search Results</h2>
          <div id="movieGrid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4 justify-center"></div>
        </div>
        
        <!-- Random Movie Fact Card -->
        <div class="glass border border-gray-700/50 rounded-xl p-6 mb-8">
          <h3 class="text-lg font-medium mb-2 text-accent">Did you know?</h3>
          <p id="randomMovieFact" class="text-gray-300 text-sm">Loading a random movie fact...</p>
        </div>
      </section>

      <!-- About Tab Content -->
      <section id="content-about" class="tab-content hidden">
        <!-- Main container with gradient background -->
        <div class="relative overflow-hidden min-h-screen">
          <!-- Background layers and effects -->
          <!-- Removed the jail-like gradient background -->
          <div class="absolute inset-0 bg-[url('https://i.pinimg.com/originals/a0/90/64/a0906475f9789b961430af7a57c83196.jpg')] bg-cover bg-center opacity-10 -z-10"></div>
          
          <!-- Floating particles container -->
          <div id="about-particles" class="absolute inset-0 -z-5"></div>
          
          <!-- Content -->
          <div class="max-w-6xl mx-auto px-4 py-10 space-y-12">
            <!-- Header section with anime character -->
            <div class="flex flex-col md:flex-row items-center gap-8 mb-16">
              <div class="character-container relative w-64 h-64 shrink-0">
                <!-- Glow effect behind character -->
                
                <!-- Character image -->
                <div class="relative w-full h-full rounded-full overflow-hidden border-2 border-white/20 p-1">
                  <img src="https://static.vecteezy.com/system/resources/thumbnails/024/212/249/small_2x/ai-generated-sticker-anime-girl-with-blue-hair-png.png" alt="Anime Character" class="w-full h-full object-cover rounded-full character-float">
                </div>
                
                <!-- Decorative circles -->
                <div class="absolute -top-3 -right-3 w-8 h-8 rounded-full bg-pink-500/80 animate-float" style="animation-delay: 0.5s;"></div>
                <div class="absolute -bottom-2 -left-2 w-6 h-6 rounded-full bg-blue-500/80 animate-float" style="animation-delay: 1s;"></div>
                <div class="absolute top-1/4 -right-4 w-4 h-4 rounded-full bg-purple-500/80 animate-float" style="animation-delay: 1.5s;"></div>
              </div>
              
              <!-- Bio info with anime styling -->
              <div class="text-center md:text-left py-4">
                <h1 class="text-4xl md:text-5xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-pink-400 via-purple-400 to-blue-400 anime-title">Pranav Satav</h1>
                
                <div class="text-lg text-gray-300 mb-6 max-w-2xl leading-relaxed">
                  <p class="text-blue-300">Whether it's wrangling APIs, optimizing infrastructure, or making buttons go brr—I'm your dev.</p>
                </div>
                
                <div class="flex flex-wrap gap-2 justify-center md:justify-start">
                  <span class="px-3 py-1 rounded-full bg-pink-500/20 text-pink-300 text-sm border border-pink-500/30 hover:bg-pink-500/30 transition-colors">JavaScript</span>
                  <span class="px-3 py-1 rounded-full bg-purple-500/20 text-purple-300 text-sm border border-purple-500/30 hover:bg-purple-500/30 transition-colors">React</span>
                  <span class="px-3 py-1 rounded-full bg-blue-500/20 text-blue-300 text-sm border border-blue-500/30 hover:bg-blue-500/30 transition-colors">Node.js</span>
                  <span class="px-3 py-1 rounded-full bg-indigo-500/20 text-indigo-300 text-sm border border-indigo-500/30 hover:bg-indigo-500/30 transition-colors">Python</span>
                  <span class="px-3 py-1 rounded-full bg-cyan-500/20 text-cyan-300 text-sm border border-cyan-500/30 hover:bg-cyan-500/30 transition-colors">AWS</span>
                </div>
              </div>
            </div>
            
            <!-- Development Stats Section -->
            <div class="glass border border-white/10 rounded-2xl p-6 md:p-8 backdrop-blur-md">
              <h2 class="text-2xl font-bold mb-6 text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400">Development Skills</h2>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Left column skills -->
                <div class="space-y-6">
                  <div>
                    <div class="flex justify-between mb-2">
                      <span class="text-blue-300 font-medium">Frontend Development</span>
                      <span class="text-blue-300 font-medium">95%</span>
                    </div>
                    <div class="h-3 bg-gray-800/60 rounded-full overflow-hidden">
                      <div class="h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full skill-bar" style="width: 0%" data-width="95%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between mb-2">
                      <span class="text-purple-300 font-medium">Backend Development</span>
                      <span class="text-purple-300 font-medium">92%</span>
                    </div>
                    <div class="h-3 bg-gray-800/60 rounded-full overflow-hidden">
                      <div class="h-full bg-gradient-to-r from-purple-500 to-pink-500 rounded-full skill-bar" style="width: 0%" data-width="92%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between mb-2">
                      <span class="text-pink-300 font-medium">UI/UX Design</span>
                      <span class="text-pink-300 font-medium">88%</span>
                    </div>
                    <div class="h-3 bg-gray-800/60 rounded-full overflow-hidden">
                      <div class="h-full bg-gradient-to-r from-pink-500 to-red-500 rounded-full skill-bar" style="width: 0%" data-width="88%"></div>
                    </div>
                  </div>
                </div>
                
                <!-- Right column skills -->
                <div class="space-y-6">
                  <div>
                    <div class="flex justify-between mb-2">
                      <span class="text-cyan-300 font-medium">Cloud Infrastructure</span>
                      <span class="text-cyan-300 font-medium">90%</span>
                    </div>
                    <div class="h-3 bg-gray-800/60 rounded-full overflow-hidden">
                      <div class="h-full bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full skill-bar" style="width: 0%" data-width="90%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between mb-2">
                      <span class="text-green-300 font-medium">DevOps</span>
                      <span class="text-green-300 font-medium">85%</span>
                    </div>
                    <div class="h-3 bg-gray-800/60 rounded-full overflow-hidden">
                      <div class="h-full bg-gradient-to-r from-green-500 to-teal-500 rounded-full skill-bar" style="width: 0%" data-width="85%"></div>
                    </div>
                  </div>
                  
                  <div>
                    <div class="flex justify-between mb-2">
                      <span class="text-amber-300 font-medium">API Design</span>
                      <span class="text-amber-300 font-medium">93%</span>
                    </div>
                    <div class="h-3 bg-gray-800/60 rounded-full overflow-hidden">
                      <div class="h-full bg-gradient-to-r from-amber-500 to-orange-500 rounded-full skill-bar" style="width: 0%" data-width="93%"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Timeline section -->
            <div class="relative">
              <h2 class="text-2xl font-bold mb-12 text-center text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400">Development Journey</h2>
              
              <!-- Vertical line through timeline - made it thicker and more visible -->
              <div class="absolute left-1/2 top-12 bottom-0 w-2 bg-gradient-to-b from-blue-500 via-purple-500 to-pink-500 transform -translate-x-1/2 rounded-full"></div>
              
              <!-- Timeline items - increased spacing and improved responsive layout -->
              <div class="timeline-container space-y-28 relative">
                <!-- 2023 -->
                <div class="timeline-item" data-aos="fade-up">
                  <div class="timeline-badge bg-blue-600 text-white text-lg font-bold h-14 w-14 rounded-full flex items-center justify-center absolute left-1/2 transform -translate-x-1/2 z-10 border-4 border-gray-900">
                    23
                  </div>
                  <div class="timeline-content glass border border-blue-500/30 rounded-xl p-6 max-w-md ml-auto mr-4 md:mr-0 md:ml-[calc(50%+2rem)] -mt-7 fade-in-right shadow-lg shadow-blue-500/20">
                    <div class="mb-2">
                      <span class="bg-blue-500/20 text-blue-300 px-3 py-1 rounded-full text-sm">2023</span>
                    </div>
                    <h3 class="text-xl font-semibold text-blue-300 mb-2">Cloud Infrastructure Expert</h3>
                    <p class="text-gray-300">Mastered multi-cloud deployments with AWS, GCP, and Azure. Implemented advanced CI/CD pipelines and infrastructure as code solutions.</p>
                    <div class="mt-3 flex gap-2 flex-wrap">
                      <span class="text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded">Kubernetes</span>
                      <span class="text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded">Terraform</span>
                      <span class="text-xs bg-blue-500/20 text-blue-300 px-2 py-1 rounded">GitOps</span>
                    </div>
                  </div>
                </div>
                
                <!-- 2021 -->
                <div class="timeline-item" data-aos="fade-up">
                  <div class="timeline-badge bg-purple-600 text-white text-lg font-bold h-14 w-14 rounded-full flex items-center justify-center absolute left-1/2 transform -translate-x-1/2 z-10 border-4 border-gray-900">
                    21
                  </div>
                  <div class="timeline-content glass border border-purple-500/30 rounded-xl p-6 max-w-md mr-auto ml-4 md:ml-0 md:mr-[calc(50%+2rem)] -mt-7 fade-in-left shadow-lg shadow-purple-500/20">
                    <div class="mb-2">
                      <span class="bg-purple-500/20 text-purple-300 px-3 py-1 rounded-full text-sm">2021</span>
                    </div>
                    <h3 class="text-xl font-semibold text-purple-300 mb-2">Full-Stack Developer Lead</h3>
                    <p class="text-gray-300">Led development team for consumer-facing applications. Architected scalable solutions and mentored junior developers.</p>
                    <div class="mt-3 flex gap-2 flex-wrap">
                      <span class="text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded">React</span>
                      <span class="text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded">Node.js</span>
                      <span class="text-xs bg-purple-500/20 text-purple-300 px-2 py-1 rounded">PostgreSQL</span>
                    </div>
                  </div>
                </div>
                
                <!-- 2019 -->
                <div class="timeline-item" data-aos="fade-up">
                  <div class="timeline-badge bg-pink-600 text-white text-lg font-bold h-14 w-14 rounded-full flex items-center justify-center absolute left-1/2 transform -translate-x-1/2 z-10 border-4 border-gray-900">
                    19
                  </div>
                  <div class="timeline-content glass border border-pink-500/30 rounded-xl p-6 max-w-md ml-auto mr-4 md:mr-0 md:ml-[calc(50%+2rem)] -mt-7 fade-in-right shadow-lg shadow-pink-500/20">
                    <div class="mb-2">
                      <span class="bg-pink-500/20 text-pink-300 px-3 py-1 rounded-full text-sm">2019</span>
                    </div>
                    <h3 class="text-xl font-semibold text-pink-300 mb-2">Backend Developer</h3>
                    <p class="text-gray-300">Specialized in API development and database optimization. Implemented real-time data processing systems.</p>
                    <div class="mt-3 flex gap-2 flex-wrap">
                      <span class="text-xs bg-pink-500/20 text-pink-300 px-2 py-1 rounded">Express.js</span>
                      <span class="text-xs bg-pink-500/20 text-pink-300 px-2 py-1 rounded">MongoDB</span>
                      <span class="text-xs bg-pink-500/20 text-pink-300 px-2 py-1 rounded">Redis</span>
                    </div>
                  </div>
                </div>
                
                <!-- 2017 -->
                <div class="timeline-item" data-aos="fade-up">
                  <div class="timeline-badge bg-cyan-600 text-white text-lg font-bold h-14 w-14 rounded-full flex items-center justify-center absolute left-1/2 transform -translate-x-1/2 z-10 border-4 border-gray-900">
                    17
                  </div>
                  <div class="timeline-content glass border border-cyan-500/30 rounded-xl p-6 max-w-md mr-auto ml-4 md:ml-0 md:mr-[calc(50%+2rem)] -mt-7 fade-in-left shadow-lg shadow-cyan-500/20">
                    <div class="mb-2">
                      <span class="bg-cyan-500/20 text-cyan-300 px-3 py-1 rounded-full text-sm">2017</span>
                    </div>
                    <h3 class="text-xl font-semibold text-cyan-300 mb-2">Frontend Developer</h3>
                    <p class="text-gray-300">Started professional journey with focus on responsive web design and interactive user interfaces.</p>
                    <div class="mt-3 flex gap-2 flex-wrap">
                      <span class="text-xs bg-cyan-500/20 text-cyan-300 px-2 py-1 rounded">HTML/CSS</span>
                      <span class="text-xs bg-cyan-500/20 text-cyan-300 px-2 py-1 rounded">JavaScript</span>
                      <span class="text-xs bg-cyan-500/20 text-cyan-300 px-2 py-1 rounded">jQuery</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Timeline section ends -->
          </div>
        </div>
      </section>

      <!-- Projects Tab Content -->
      <section id="content-projects" class="tab-content hidden">
        <h2 class="text-accent font-space text-2xl mb-6">Featured Projects</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="glass border border-gray-700/50 rounded-xl p-5 hover:border-accent transition-colors cursor-pointer hover:translate-y-[-2px] duration-300">
            <h3 class="text-accent font-space text-lg mb-2">M3U Playlist Checker</h3>
            <p class="text-gray-300 text-sm">Upload, validate, re-check, and stream. It's like CPR for dead IPTV links.</p>
          </div>

          <div class="glass border border-gray-700/50 rounded-xl p-5 hover:border-accent transition-colors cursor-pointer hover:translate-y-[-2px] duration-300">
            <h3 class="text-accent font-space text-lg mb-2">Telegram Video Streamer</h3>
            <p class="text-gray-300 text-sm">HTML5 video player + Telegram = seamless privacy-first streaming.</p>
          </div>

          <div class="glass border border-gray-700/50 rounded-xl p-5 hover:border-accent transition-colors cursor-pointer hover:translate-y-[-2px] duration-300">
            <h3 class="text-accent font-space text-lg mb-2">IoT + SDN = Secure Chaos</h3>
            <p class="text-gray-300 text-sm">Made IOTA 2.0 and SDN shake hands to secure IoT networks. Surprisingly polite handshake.</p>
          </div>

          <div class="glass border border-gray-700/50 rounded-xl p-5 hover:border-accent transition-colors cursor-pointer hover:translate-y-[-2px] duration-300">
            <h3 class="text-accent font-space text-lg mb-2">LocalStack EC2 Wizard</h3>
            <p class="text-gray-300 text-sm">Create and test EC2 instances locally. It's like AWS... but in your hoodie.</p>
          </div>
        </div>
      </section>
      
      <!-- Status Tab Content -->
      <section id="content-status" class="tab-content hidden">
        <div class="max-w-5xl mx-auto">
          <!-- Status Overview -->
          <div class="glass relative border border-gray-700/50 rounded-xl p-6 mb-8 overflow-hidden">
            <!-- Background decorative elements -->
            <div class="absolute -top-20 -right-20 w-40 h-40 bg-blue-500/20 rounded-full blur-3xl"></div>
            <div class="absolute -bottom-20 -left-20 w-40 h-40 bg-purple-500/20 rounded-full blur-3xl"></div>
            
            <div class="relative z-10">
              <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-6 gap-4">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-gray-800/70 backdrop-blur-sm rounded-lg flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-blue-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14M12 5l7 7-7 7" />
                    </svg>
                  </div>
                  <div>
                    <h2 class="text-2xl font-bold">System Status</h2>
                    <p class="text-sm text-gray-400">Real-time monitoring dashboard</p>
                  </div>
                </div>
                <div class="flex flex-col items-end gap-1">
                  <div class="flex items-center gap-2 px-3 py-1 bg-gray-800/70 backdrop-blur-sm rounded-lg">
                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                    <span class="text-sm text-gray-300">Last updated: <span id="last-updated" class="text-sm font-medium">Just now</span></span>
                  </div>
                  <div class="text-xs text-gray-500">Updates every 5 seconds</div>
                </div>
              </div>
              
              <!-- Status Bar -->
              <div class="relative h-6 bg-gray-800/50 backdrop-blur-sm rounded-full overflow-hidden mb-6">
                <div id="status-bar" class="absolute inset-0 bg-gradient-to-r from-green-500 to-green-400 transition-all duration-1000"></div>
                <div class="absolute inset-0 bg-gradient-to-r from-red-500 to-red-400 transition-all duration-1000 hidden"></div>
                <div class="absolute inset-0 bg-gradient-to-r from-yellow-500 to-yellow-400 transition-all duration-1000 hidden"></div>
                <div class="absolute inset-0 flex items-center justify-center">
                  <span id="overall-status-text" class="text-xs font-semibold text-white z-10 drop-shadow-md">All Systems Operational</span>
                </div>
              </div>
              
              <!-- Uptime stats summary -->
              <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6">
                <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg">
                  <div class="text-sm text-gray-400">Uptime (24h)</div>
                  <div id="uptime-24h" class="text-xl font-semibold">99.8%</div>
                </div>
                <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg">
                  <div class="text-sm text-gray-400">Uptime (7d)</div>
                  <div id="uptime-7d" class="text-xl font-semibold">99.5%</div>
                </div>
                <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg">
                  <div class="text-sm text-gray-400">Avg Response</div>
                  <div id="avg-response-time" class="text-xl font-semibold">268ms</div>
                </div>
                <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg">
                  <div class="text-sm text-gray-400">Last Maintenance</div>
                  <div id="last-maintenance" class="text-xl font-semibold">Apr 27</div>
                </div>
              </div>
              
              <!-- Status Details -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="glass border border-gray-700/50 rounded-lg p-4 hover:border-blue-500/30 transition-colors duration-300">
                  <div class="flex items-center gap-2 mb-4">
                    <div id="cloud-status-indicator" class="w-3 h-3 rounded-full bg-gray-500"></div>
                    <h3 class="font-medium">NextCloud</h3>
                  </div>
                  <div class="aspect-video bg-gray-800/50 backdrop-blur-sm mb-4 rounded-lg overflow-hidden flex items-center justify-center p-2">
                    <img src="https://nextcloud.com/wp-content/uploads/2022/11/nextcloud-logo.svg" alt="NextCloud" class="h-16">
                  </div>
                  <p class="text-sm text-gray-400 mb-3">File storage and sync service</p>
                  <div class="text-sm space-y-1">
                    <div class="flex justify-between">
                      <span class="text-gray-400">IP Address:</span>
                      <span id="server-ip" class="font-medium">Checking...</span>
                    </div>
                    <div class="flex justify-between">
                      <span class="text-gray-400">Response Time:</span>
                      <span id="response-time" class="font-medium">Checking...</span>
                    </div>
                    <div class="flex justify-between">
                      <span class="text-gray-400">Last Failure:</span>
                      <span id="last-failure-cloud" class="font-medium">None</span>
                    </div>
                  </div>
                </div>
                
                <div class="glass border border-gray-700/50 rounded-lg p-4 hover:border-blue-500/30 transition-colors duration-300">
                  <div class="flex items-center gap-2 mb-4">
                    <div id="api-status-indicator" class="w-3 h-3 rounded-full bg-gray-500"></div>
                    <h3 class="font-medium">TMDB API</h3>
                  </div>
                  <div class="aspect-video bg-gray-800/50 backdrop-blur-sm mb-4 rounded-lg overflow-hidden flex items-center justify-center p-2">
                    <img src="https://www.themoviedb.org/assets/2/v4/logos/v2/blue_square_2-d537fb228cf3ded904ef09b136fe3fec72548ebc1fea3fbbd1ad9e36364db38b.svg" alt="TMDB API" class="h-16">
                  </div>
                  <p class="text-sm text-gray-400 mb-3">Movie database API</p>
                  <div class="text-sm space-y-1">
                    <div class="flex justify-between">
                      <span class="text-gray-400">Status:</span>
                      <span id="tmdb-status" class="font-medium">Checking...</span>
                    </div>
                    <div class="flex justify-between">
                      <span class="text-gray-400">Latency:</span>
                      <span id="tmdb-latency" class="font-medium">Checking...</span>
                    </div>
                    <div class="flex justify-between">
                      <span class="text-gray-400">Requests/day:</span>
                      <span id="tmdb-requests" class="font-medium">0</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Uptime Graph -->
          <div class="glass border border-gray-700/50 rounded-xl p-6 mb-8 relative overflow-hidden">
            <!-- Background decorative elements -->
            <div class="absolute -bottom-20 -right-20 w-40 h-40 bg-green-500/10 rounded-full blur-3xl"></div>
            
            <div class="relative z-10">
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-3">
                  <div class="w-10 h-10 bg-gray-800/70 backdrop-blur-sm rounded-lg flex items-center justify-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z" />
                    </svg>
                  </div>
                  <div>
                    <h3 class="text-xl font-semibold">Uptime History</h3>
                    <p class="text-sm text-gray-400">Last 24 hours monitoring</p>
                  </div>
                </div>
                <div class="flex gap-2">
                  <button class="text-xs bg-gray-800/70 backdrop-blur-sm px-3 py-1 rounded-lg text-gray-300 hover:bg-gray-700/70 transition-colors uptime-period-btn active" data-period="24h">24h</button>
                  <button class="text-xs bg-gray-800/70 backdrop-blur-sm px-3 py-1 rounded-lg text-gray-300 hover:bg-gray-700/70 transition-colors uptime-period-btn" data-period="7d">7d</button>
                  <button class="text-xs bg-gray-800/70 backdrop-blur-sm px-3 py-1 rounded-lg text-gray-300 hover:bg-gray-700/70 transition-colors uptime-period-btn" data-period="30d">30d</button>
                </div>
              </div>
              
              <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg">
                <canvas id="uptimeChart" height="200"></canvas>
              </div>
              
              <div class="mt-4 grid grid-cols-1 sm:grid-cols-3 gap-4">
                <div class="bg-gray-800/30 backdrop-blur-sm p-3 rounded-lg flex items-center gap-3">
                  <div class="w-3 h-3 rounded-full bg-green-500"></div>
                  <div class="flex-1">
                    <div class="text-xs text-gray-400">Operational Time</div>
                    <div id="operational-time" class="text-sm font-medium">23h 52m</div>
                  </div>
                </div>
                <div class="bg-gray-800/30 backdrop-blur-sm p-3 rounded-lg flex items-center gap-3">
                  <div class="w-3 h-3 rounded-full bg-red-500"></div>
                  <div class="flex-1">
                    <div class="text-xs text-gray-400">Downtime</div>
                    <div id="downtime" class="text-sm font-medium">8m</div>
                  </div>
                </div>
                <div class="bg-gray-800/30 backdrop-blur-sm p-3 rounded-lg flex items-center gap-3">
                  <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
                  <div class="flex-1">
                    <div class="text-xs text-gray-400">Degraded Performance</div>
                    <div id="degraded-time" class="text-sm font-medium">0m</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Service Status -->
          <div class="glass border border-gray-700/50 rounded-xl p-6 mb-8 relative overflow-hidden">
            <!-- Background decorative elements -->
            <div class="absolute -top-20 -left-20 w-40 h-40 bg-purple-500/10 rounded-full blur-3xl"></div>
            
            <div class="relative z-10">
              <div class="flex items-center gap-3 mb-6">
                <div class="w-10 h-10 bg-gray-800/70 backdrop-blur-sm rounded-lg flex items-center justify-center">
                  <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-purple-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                  </svg>
                </div>
                <div>
                  <h3 class="text-xl font-semibold">Service Status</h3>
                  <p class="text-sm text-gray-400">Individual component monitoring</p>
                </div>
              </div>
              
              <div class="space-y-4">
                <div class="flex items-center justify-between p-4 rounded-lg bg-gray-800/30 backdrop-blur-sm hover:bg-gray-800/50 transition-colors">
                  <div class="flex items-center gap-3">
                    <div id="nextcloud-status" class="w-3 h-3 rounded-full bg-gray-500"></div>
                    <div>
                      <h4 class="font-medium">NextCloud Core</h4>
                      <p class="text-sm text-gray-400">Main NextCloud service</p>
                    </div>
                  </div>
                  <div class="flex flex-col items-end gap-1">
                    <span id="nextcloud-status-text" class="text-sm text-gray-400">Checking...</span>
                    <span class="text-xs text-gray-500">Last checked: <span id="nextcloud-last-checked">--</span></span>
                  </div>
                </div>
                
                <div class="flex items-center justify-between p-4 rounded-lg bg-gray-800/30 backdrop-blur-sm hover:bg-gray-800/50 transition-colors">
                  <div class="flex items-center gap-3">
                    <div id="streaming-status" class="w-3 h-3 rounded-full bg-gray-500"></div>
                    <div>
                      <h4 class="font-medium">Media Streaming Service</h4>
                      <p class="text-sm text-gray-400">Video content delivery</p>
                    </div>
                  </div>
                  <div class="flex flex-col items-end gap-1">
                    <span id="streaming-status-text" class="text-sm text-gray-400">Checking...</span>
                    <span class="text-xs text-gray-500">Last checked: <span id="streaming-last-checked">--</span></span>
                  </div>
                </div>
                
                <div class="flex items-center justify-between p-4 rounded-lg bg-gray-800/30 backdrop-blur-sm hover:bg-gray-800/50 transition-colors">
                  <div class="flex items-center gap-3">
                    <div id="database-status" class="w-3 h-3 rounded-full bg-gray-500"></div>
                    <div>
                      <h4 class="font-medium">PostgreSQL Database</h4>
                      <p class="text-sm text-gray-400">Data storage and retrieval</p>
                    </div>
                  </div>
                  <div class="flex flex-col items-end gap-1">
                    <span id="database-status-text" class="text-sm text-gray-400">Checking...</span>
                    <span class="text-xs text-gray-500">Last checked: <span id="database-last-checked">--</span></span>
                  </div>
                </div>
                
                <div class="flex items-center justify-between p-4 rounded-lg bg-gray-800/30 backdrop-blur-sm hover:bg-gray-800/50 transition-colors">
                  <div class="flex items-center gap-3">
                    <div id="nginx-status" class="w-3 h-3 rounded-full bg-gray-500"></div>
                    <div>
                      <h4 class="font-medium">Nginx Web Server</h4>
                      <p class="text-sm text-gray-400">Frontend web services</p>
                    </div>
                  </div>
                  <div class="flex flex-col items-end gap-1">
                    <span id="nginx-status-text" class="text-sm text-gray-400">Checking...</span>
                    <span class="text-xs text-gray-500">Last checked: <span id="nginx-last-checked">--</span></span>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Incident History -->
          <div class="glass border border-gray-700/50 rounded-xl p-6 mb-8">
            <div class="flex items-center gap-3 mb-6">
              <div class="w-10 h-10 bg-gray-800/70 backdrop-blur-sm rounded-lg flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-yellow-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
              </div>
              <div>
                <h3 class="text-xl font-semibold">System Activity Log</h3>
                <p class="text-sm text-gray-400">Recent system events</p>
              </div>
            </div>
            
            <div id="incidents-container" class="space-y-4">
              <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg border-l-4 border-green-500">
                <div class="flex items-center justify-between mb-2">
                  <div class="font-medium">NextCloud Server Started</div>
                  <div class="text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded">Started</div>
                </div>
                <div class="text-sm text-gray-400 mb-3">April 27, 2023 - 10:15 AM</div>
                <p class="text-sm text-gray-300">NextCloud server successfully started after scheduled maintenance. All services operational.</p>
              </div>
              
              <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg border-l-4 border-red-500">
                <div class="flex items-center justify-between mb-2">
                  <div class="font-medium">NextCloud Server Shutdown</div>
                  <div class="text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded">Stopped</div>
                </div>
                <div class="text-sm text-gray-400 mb-3">April 27, 2023 - 10:00 AM</div>
                <p class="text-sm text-gray-300">Scheduled maintenance: NextCloud server shutdown for system updates and security patches.</p>
              </div>
              
              <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg border-l-4 border-yellow-500">
                <div class="flex items-center justify-between mb-2">
                  <div class="font-medium">Database Performance Degradation</div>
                  <div class="text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded">Resolved</div>
                </div>
                <div class="text-sm text-gray-400 mb-3">April 25, 2023 - 2:18 PM to 3:45 PM</div>
                <p class="text-sm text-gray-300">The PostgreSQL database experienced higher than normal query times. Issue resolved after index optimization.</p>
              </div>
              
              <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg border-l-4 border-green-500">
                <div class="flex items-center justify-between mb-2">
                  <div class="font-medium">NextCloud Server Started</div>
                  <div class="text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded">Started</div>
                </div>
                <div class="text-sm text-gray-400 mb-3">April 20, 2023 - 9:32 AM</div>
                <p class="text-sm text-gray-300">NextCloud server started after hardware upgrade. Storage capacity increased to 8TB.</p>
              </div>
              
              <div class="bg-gray-800/30 backdrop-blur-sm p-4 rounded-lg border-l-4 border-red-500">
                <div class="flex items-center justify-between mb-2">
                  <div class="font-medium">NextCloud Server Shutdown</div>
                  <div class="text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded">Stopped</div>
                </div>
                <div class="text-sm text-gray-400 mb-3">April 20, 2023 - 8:45 AM</div>
                <p class="text-sm text-gray-300">Planned shutdown for hardware upgrade. Storage expansion in progress.</p>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- Player Modal -->
  <div id="playerModal" class="hidden fixed inset-0 z-50 flex flex-col">
    <div class="bg-gray-900/95 backdrop-blur-lg p-3 flex flex-wrap justify-between items-center gap-3 border-b border-gray-800">
      <button id="closePlayer" class="w-8 h-8 bg-red-600/80 hover:bg-red-600 flex items-center justify-center text-white font-bold transition-colors">&times;</button>
      <div id="playerTitle" class="flex-1 text-center text-white font-medium truncate px-4">Loading...</div>
      <div class="flex items-center gap-3">
        <div id="tvControls" class="hidden items-center gap-2">
          <span class="text-xs text-gray-400">S</span>
          <input type="number" id="seasonInput" min="1" value="1" class="w-14 py-1 px-2 bg-gray-800 rounded text-center text-white text-sm border border-gray-700">
          <span class="text-xs text-gray-400">E</span>
          <input type="number" id="episodeInput" min="1" value="1" class="w-14 py-1 px-2 bg-gray-800 rounded text-center text-white text-sm border border-gray-700">
          <button id="updateEpisode" class="bg-gray-800 hover:bg-gray-700 text-white py-1 px-3 text-sm transition-colors">▶</button>
        </div>
        <select id="sourceSelect" class="bg-gray-800 border border-gray-700 text-white text-sm"></select>
      </div>
    </div>
    <div class="flex-1 relative">
      <div class="absolute inset-0 flex items-center justify-center">
        <div class="w-16 h-16 border-4 border-white rounded-full animate-spin border-t-transparent"></div>
      </div>
      <iframe sandbox="allow-scripts allow-same-origin allow-presentation" id="videoFrame" class="absolute inset-0 w-full h-full border-0" scrolling="no" allowfullscreen></iframe>
    </div>
  </div>

  <!-- Info Modal -->
  <div id="infoModal" class="info-modal">
    <div class="info-modal-content">
      <div class="info-modal-header">
        <h3 id="infoModalTitle" class="text-xl font-bold"></h3>
        <button id="closeInfoModal" class="text-gray-400 hover:text-white">
          <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="info-modal-body">
        <div class="info-modal-poster">
          <img id="infoModalPoster" src="" alt="" class="w-full">
        </div>
        <div class="info-modal-details">
          <div class="flex items-center gap-4">
            <div class="star-rating text-lg" id="infoModalRating"></div>
            <span id="infoModalScore" class="text-lg"></span>
          </div>
          <div class="info-modal-genres" id="infoModalGenres"></div>
          <p id="infoModalOverview" class="text-gray-300"></p>
          <div class="flex gap-2">
            <button id="infoModalWatchBtn" class="watch-btn">Watch Now</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Initialize particle background
    tsParticles.load("particles", {
      fullScreen: false,
      background: { color: { value: "transparent" } },
      particles: {
        number: { value: 30 },
        color: { value: "#ffffff" },
        shape: { type: "circle" },
        opacity: { value: 0.2 },
        size: { value: { min: 1, max: 3 } },
        move: { enable: true, speed: 0.5, direction: "none", outModes: { default: "bounce" } }
      }
    });

    // Tab navigation with animations
    document.addEventListener('DOMContentLoaded', function() {
      const tabs = document.querySelectorAll('.tab-btn');
      const tabContents = document.querySelectorAll('.tab-content');
      
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          // Remove active class from all tabs
          tabs.forEach(t => {
            t.classList.remove('bg-primary');
            t.classList.add('text-gray-300');
          });
          
          // Add active class to clicked tab
          this.classList.add('bg-primary');
          this.classList.remove('text-gray-300');
          
          // Handle tab content with animations
          const tabId = this.id.split('-')[1];
          
          // First, mark all contents as hidden
          tabContents.forEach(content => {
            content.classList.add('hidden');
            content.classList.remove('visible');
          });
          
          // Then show the selected content with animation
          setTimeout(() => {
            const activeContent = document.getElementById(`content-${tabId}`);
            activeContent.classList.remove('hidden');
            // Force a reflow for animation
            void activeContent.offsetWidth;
            activeContent.classList.add('visible');
            
            // Reinitialize swipers if we're on the stream tab
            if (tabId === 'stream') {
              initializeSwipers();
            }
            
            // Initialize special particles for About tab
            if (tabId === 'about') {
              initializeAboutParticles();
            }
          }, 100);
        });
      });
      
      // Initialize swipers when DOM loaded
      initializeSwipers();
      
      
      // Load random movie fact
      loadRandomMovieFact();
    });

    // Cloud status checker - now more minimalist
    let isOnline = false;
    let checkCount = 0;
    let upSince = null;
  
    function updateRetryText() {
      const textEl = document.getElementById("retry-text");
      if (!isOnline && textEl) {
        textEl.textContent = `Retrying connection every 5s...`;
      } else if (isOnline && textEl) {
        textEl.textContent = "";
      }
    }
    
    function updateLastChecked() {
      document.getElementById("last-checked").textContent = new Date().toLocaleTimeString();
    }
    
    function updateUptime() {
      if (isOnline && upSince) {
        const now = new Date();
        const diff = now - upSince;
        const minutes = Math.floor(diff / 60000);
        const hours = Math.floor(minutes / 60);
        
        if (hours > 0) {
          document.getElementById("uptime").textContent = `${hours}h ${minutes % 60}m`;
        } else {
          document.getElementById("uptime").textContent = `${minutes}m`;
        }
      } else {
        document.getElementById("uptime").textContent = "-";
      }
    }
  
    function checkCloudStatus() {
      fetch("https://cloud.pranavsatav.me/status.php", { cache: "no-store" })
        .then((res) => {
          if (res.ok) {
            if (!isOnline) {
              // Just came online
              upSince = new Date();
            }
            
            isOnline = true;
            document.getElementById("cloud-status-indicator").classList.remove("bg-gray-500", "bg-red-500");
            document.getElementById("cloud-status-indicator").classList.add("bg-green-500");
            document.getElementById("cloud-status-text").textContent = "Online";
          } else {
            throw new Error();
          }
        })
        .catch(() => {
          isOnline = false;
          upSince = null;
          document.getElementById("cloud-status-indicator").classList.remove("bg-gray-500", "bg-green-500");
          document.getElementById("cloud-status-indicator").classList.add("bg-red-500");
          document.getElementById("cloud-status-text").textContent = "Offline";
        })
        .finally(() => {
          updateRetryText();
          updateLastChecked();
          updateUptime();
          checkCount++;
        });
    }
  
    setInterval(checkCloudStatus, 5000);
    setInterval(updateUptime, 60000); // Update uptime display every minute
    checkCloudStatus();

    // Movie facts array
    const movieFacts = [
      "The original Psycho (1960) was the first U.S. film to show a toilet flushing on screen.",
      "The Lord of the Rings trilogy took 8 years to make from start to finish.",
      "The Matrix code is actually Japanese sushi recipes scrolling down the screen.",
      "Die Hard was actually based on the novel 'Nothing Lasts Forever' by Roderick Thorp.",
      "The iconic 'I'll be back' line from The Terminator was almost changed to 'I'll come back'.",
      "The Shawshank Redemption was a box office disappointment, making only $16 million during its initial theatrical run.",
      "The 'Wilhelm Scream' sound effect has been used in over 400 films and has become an inside joke among filmmakers.",
      "The original script of Alien described the creature simply as 'THE ALIEN'.",
      "The green code in The Matrix was actually created from Japanese sushi recipes.",
      "The 'lightsaber' sound in Star Wars is a combination of a film projector motor and TV interference.",
      "Darth Vader only has 12 minutes of screen time in the original Star Wars movie.",
      "Stanley Kubrick destroyed most of the props from 2001: A Space Odyssey to prevent them from being used in other films."
    ];
    
    function loadRandomMovieFact() {
      const factIndex = Math.floor(Math.random() * movieFacts.length);
      document.getElementById("randomMovieFact").textContent = movieFacts[factIndex];
    }

    // TMDB API token and elements
    const tmdbToken = "eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI2Y2QyMWU2NDIxNDAwNTdjZDYzNjJiZjI5ZjlhMzNkMiIsIm5iZiI6MTY5MTkzOTQxNi45OTUwMDAxLCJzdWIiOiI2NGQ4ZjI1ODAwMWJiZDAwYzZjN2FmZjYiLCJzY29wZXMiOlsiYXBpX3JlYWQiXSwidmVyc2lvbiI6MX0.1iAwqbg9q-TXSi6Sb8DPXAAcw29zd02GJarwO7QodcU";
    const searchInput = document.getElementById("movieSearchInput");
    const movieGrid = document.getElementById("movieGrid");
    const searchResultsSection = document.getElementById("searchResultsSection");
    const typeFilter = document.getElementById("typeFilter");
    const genreFilter = document.getElementById("genreFilter");
    const sortFilter = document.getElementById("sortFilter");
    
    let searchDebounce;
    let swipers = {};

    // Player Modal elements
    const playerModal = document.getElementById("playerModal");
    const videoFrame = document.getElementById("videoFrame");
    const closePlayerBtn = document.getElementById("closePlayer");
    const seasonInput = document.getElementById("seasonInput");
    const episodeInput = document.getElementById("episodeInput");
    const updateEpisodeButton = document.getElementById("updateEpisode");
    const sourceSelect = document.getElementById("sourceSelect");
    const tvControls = document.getElementById("tvControls");
    const playerTitle = document.getElementById("playerTitle");
    
    let currentMediaType = null;
    let currentMediaId = null;
    let currentMediaTitle = null;
    let embedSources = [];

    // Initialize all swipers
    function initializeSwipers() {
      // Hero swiper
      swipers.hero = new Swiper('.heroSwiper', {
        slidesPerView: 1,
        spaceBetween: 0,
        centeredSlides: true,
        autoplay: {
          delay: 6000,
          disableOnInteraction: false,
          pauseOnMouseEnter: true
        },
        loop: true,
        effect: 'fade',
        fadeEffect: {
          crossFade: true
        },
        speed: 1500,
        observer: true,
        observeParents: true,
        preventInteractionOnTransition: true,
        watchSlidesProgress: true,
        watchSlidesVisibility: true
      });
      
      // Top 10 swiper
      swipers.top10 = new Swiper('.top10Swiper', {
        slidesPerView: 1.2,
        spaceBetween: 12,
        navigation: {
          nextEl: '.top10Swiper .swiper-button-next',
          prevEl: '.top10Swiper .swiper-button-prev',
        },
        observer: true,
        observeParents: true,
        watchSlidesProgress: true,
        watchSlidesVisibility: true,
        resistanceRatio: 0,
        preventInteractionOnTransition: true,
        breakpoints: {
          640: {
            slidesPerView: 2.2,
            spaceBetween: 16,
          },
          768: {
            slidesPerView: 3.2,
          },
          1024: {
            slidesPerView: 4.2,
          }
        }
      });
      
      // Initialize other swipers with the same configuration
      const swiperSelectors = ['.trendingSwiper', '.newReleasesSwiper', '.horrorSwiper', '.animeSwiper'];
      swiperSelectors.forEach(selector => {
        const id = selector.replace('.', '').replace('Swiper', '');
        swipers[id] = new Swiper(selector, {
          slidesPerView: 1.5,
          spaceBetween: 12,
          freeMode: false,
          watchSlidesProgress: true,
          watchSlidesVisibility: true,
          resistanceRatio: 0,
          preventInteractionOnTransition: true,
          navigation: {
            nextEl: `${selector} .swiper-button-next`,
            prevEl: `${selector} .swiper-button-prev`,
          },
          observer: true,
          observeParents: true,
          breakpoints: {
            640: {
              slidesPerView: 2.2,
              spaceBetween: 16,
            },
            768: {
              slidesPerView: 3.2,
            },
            1024: {
              slidesPerView: 4.2,
            }
          }
        });
      });
      
      // Load content for each section
      fetchHeroSlider();
      fetchTrendingItems();
      fetchNewReleases();
      fetchHorrorMovies();
      fetchAnimeContent();
      fetchTop10Movies();
    }

    // Utility: create URL-friendly slugs
    function slugify(text) {
      return text.toString().toLowerCase()
                 .replace(/\s+/g, '-')
                 .replace(/[^\w\-]+/g, '')
                 .replace(/\-\-+/g, '-')
                 .replace(/^-+/, '')
                 .replace(/-+$/, '');
    }
    
    // Format date to year only
    function formatReleaseYear(dateString) {
      if (!dateString) return 'Unknown';
      return new Date(dateString).getFullYear();
    }
    
    // Get random rating for demo purposes
    function getRandomRating() {
      return (Math.random() * 2 + 7).toFixed(1); // Random rating between 7.0 and 9.0
    }

    // Fetch hero slider content
    function fetchHeroSlider() {
      fetch("https://api.themoviedb.org/3/movie/popular?language=en-US&page=1", {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        const heroContainer = document.querySelector('.heroSwiper .swiper-wrapper');
        heroContainer.innerHTML = "";
        
        data.results.slice(0, 5).forEach(movie => {
          const slide = document.createElement('div');
          slide.className = 'swiper-slide';
          
          const backdropUrl = `https://image.tmdb.org/t/p/original${movie.backdrop_path}`;
          
          slide.innerHTML = `
            <img src="${backdropUrl}" class="absolute inset-0 w-full h-full object-cover" alt="${movie.title}">
            <div class="hero-content">
              <div class="max-w-4xl">
                <h2 class="hero-title">${movie.title}</h2>
                <div class="hero-meta">
                  <span class="badge">${formatReleaseYear(movie.release_date)}</span>
                  <div class="hero-rating">
                    <span class="star-rating">${"★".repeat(Math.round(movie.vote_average / 2))}</span>
                    <span>${movie.vote_average.toFixed(1)}</span>
                  </div>
                </div>
                <p class="hero-overview">${movie.overview}</p>
                <div class="hero-actions">
                  <button class="hero-btn hero-btn-primary" data-id="${movie.id}" data-type="movie">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-2" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                    </svg>
                    Watch Now
                  </button>
                  <button class="hero-btn hero-btn-secondary" data-id="${movie.id}" data-type="movie">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    More Info
                  </button>
                </div>
              </div>
            </div>
          `;
          
          heroContainer.appendChild(slide);
          
          // Add event listeners to buttons
          slide.querySelector('.hero-btn-primary').addEventListener('click', () => {
            openPlayer({
              id: movie.id,
              title: movie.title,
              media_type: 'movie'
            });
          });
          
          slide.querySelector('.hero-btn-secondary').addEventListener('click', () => {
            showInfoModal({
              id: movie.id,
              title: movie.title,
              media_type: 'movie',
              poster_path: movie.poster_path,
              vote_average: movie.vote_average
            });
          });
        });
        
        swipers.hero.update();
      })
      .catch(err => {
        console.error("Error fetching hero content:", err);
      });
    }

    // Create movie card
    function createMovieCard(item, isSmall = false) {
      const card = document.createElement('div');
      card.className = `swiper-slide movie-card ${isSmall ? 'small-card' : ''}`;
      
      const releaseYear = formatReleaseYear(item.release_date || item.first_air_date);
      const mediaType = item.media_type || (item.first_air_date ? "tv" : "movie");
      const rating = item.vote_average ? item.vote_average.toFixed(1) : getRandomRating();
      const stars = Math.round(rating / 2);
      
      card.innerHTML = `
        <div class="card-content">
          <img src="https://image.tmdb.org/t/p/w342${item.poster_path}" class="w-full aspect-[2/3] object-cover" alt="${item.title || item.name}" />
          <div class="absolute top-2 right-2 number-badge w-8 h-8 flex items-center justify-center text-xs font-bold">
            ${rating}
          </div>
          ${mediaType === 'tv' ? '<span class="absolute top-2 left-2 badge">TV</span>' : ''}
          <div class="card-info">
            <h3 class="card-title">${item.title || item.name}</h3>
            <div class="card-meta">
              <span>${releaseYear}</span>
              <span>•</span>
              <div class="star-rating">${"★".repeat(stars)}${"☆".repeat(5-stars)}</div>
              <span>${rating}</span>
            </div>
            <div class="card-actions">
              <button class="watch-btn" data-id="${item.id}" data-type="${mediaType}" data-title="${item.title || item.name}">Watch Now</button>
            </div>
          </div>
        </div>
      `;
      
      // Add click handler to the watch button
      card.querySelector('.watch-btn').addEventListener('click', (e) => {
        e.stopPropagation();
        openPlayer({
          id: item.id,
          title: item.title || item.name,
          media_type: mediaType,
          poster_path: item.poster_path
        });
      });
      
      return card;
    }

    // Render movies/series into the dropdown for search results
    function renderMovies(items) {
      const searchDropdown = document.getElementById('searchDropdown');
      searchDropdown.innerHTML = "";
      searchDropdown.classList.remove('hidden');
      
      if (!items || items.length === 0) {
        searchDropdown.innerHTML = "<p class='text-center w-full text-gray-300 py-4'>No results found.</p>";
        return;
      }
      
      const validItems = items.filter(item => item.poster_path && (item.media_type === undefined || item.media_type === "movie" || item.media_type === "tv"));
      
      if (validItems.length === 0) {
        searchDropdown.innerHTML = "<p class='text-center w-full text-gray-300 py-4'>No results with valid posters found.</p>";
        return;
      }
      
      validItems.slice(0, 10).forEach(item => {
        const mediaType = item.media_type || (item.first_air_date ? "tv" : "movie");
        const releaseYear = formatReleaseYear(item.release_date || item.first_air_date);
        
        const resultItem = document.createElement('div');
        resultItem.className = 'search-result-item';
        
        resultItem.innerHTML = `
          <img src="https://image.tmdb.org/t/p/w92${item.poster_path}" class="search-result-poster" alt="${item.title || item.name}">
          <div class="search-result-info">
            <h3 class="search-result-title">${item.title || item.name}</h3>
            <div class="search-result-meta">
              <span>${releaseYear}</span>
              <span>•</span>
              <span>${mediaType === 'tv' ? 'TV Show' : 'Movie'}</span>
              <span>•</span>
              <span>${item.vote_average ? item.vote_average.toFixed(1) : getRandomRating()}</span>
            </div>
          </div>
        `;
        
        resultItem.addEventListener('click', () => {
          openPlayer({
            id: item.id,
            title: item.title || item.name,
            media_type: mediaType
          });
          searchDropdown.classList.add('hidden');
          searchInput.value = '';
        });
        
        searchDropdown.appendChild(resultItem);
      });
    }

    // Open the player modal with the selected media
    function openPlayer(mediaItem) {
      console.log("Opening player for:", mediaItem);
      
      // Set current media info
      currentMediaType = mediaItem.media_type === "tv" ? "tv" : "movie";
      currentMediaId = mediaItem.id;
      currentMediaTitle = mediaItem.title;
      
      // Update modal title
      playerTitle.textContent = currentMediaTitle;
      
      // Show/hide TV controls
      if (currentMediaType === "tv") {
        tvControls.classList.remove('hidden');
        tvControls.classList.add('flex');
        seasonInput.value = 1;
        episodeInput.value = 1;
      } else {
        tvControls.classList.add('hidden');
        tvControls.classList.remove('flex');
      }
      
      // Build and populate sources
      buildEmbedSources();
      populateSourceDropdown();
      loadSource(0);
      
      // Show modal
      playerModal.classList.remove('hidden');
      document.body.style.overflow = "hidden";
    }
    
    // Close the player modal
    function closePlayer() {
      playerModal.classList.add('hidden');
      videoFrame.src = "";
      document.body.style.overflow = "";
    }

    // Build embed sources based on current media type and ID
    function buildEmbedSources() {
      let season = seasonInput.value || '1';
      let episode = episodeInput.value || '1';
      
      if (currentMediaType === 'movie') {
        embedSources = [
          { name: "Source 1", url: `https://111movies.com/movie/${currentMediaId}` },
          { name: "Source 2", url: `https://player.videasy.net/movie/${currentMediaId}` },
          { name: "StreamFlix", url: `https://iframe.pstream.org/media/tmdb-movie-${currentMediaId}?theme=default&language=en&logo=false&downloads=true&watchparty=true&lang-order=en,hi,fr,de,nl,pt&allinone=true` }
        ];
      } else if (currentMediaType === 'tv') {
        embedSources = [
          { name: "Source 1", url: `https://111movies.com/tv/${currentMediaId}/${season}/${episode}` },
          { name: "Source 2", url: `https://player.videasy.net/tv/${currentMediaId}/${season}/${episode}` },
          { name: "StreamFlix", url: `https://iframe.pstream.org/embed/tmdb-tv-${currentMediaId}/${season}/${episode}?theme=default&language=en&logo=false&downloads=true&watchparty=true&lang-order=en,hi,fr,de,nl,pt&allinone=true` }
        ];
      }
    }

    // Populate the source dropdown
    function populateSourceDropdown() {
      sourceSelect.innerHTML = "";
      embedSources.forEach((source, index) => {
        const option = document.createElement('option');
        option.value = index;
        option.textContent = source.name;
        sourceSelect.appendChild(option);
      });
    }

    // Load a specific source
   function loadSource(index) {
  if (index >= 0 && index < embedSources.length) {
    const selectedSource = embedSources[index];

    // Open Source 3 (or third source) in a new tab
    if (index === 2 || selectedSource.name === "StreamFlix") {
      window.open(selectedSource.url, '_blank');
      return;
    }

    // Otherwise load inside the iframe
    videoFrame.src = selectedSource.url;
  }
}

    // Fetch trending movies for section
    function fetchTrendingItems() {
      fetch("https://api.themoviedb.org/3/trending/movie/week", {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('trendingContainer');
        container.innerHTML = "";
        
        data.results.slice(0, 10).forEach(item => {
          if (item.poster_path) {
            container.appendChild(createMovieCard(item));
          }
        });
        
        swipers.trending.update();
      });
    }
    
    // Fetch new releases
    function fetchNewReleases() {
      fetch("https://api.themoviedb.org/3/movie/now_playing?language=en-US&page=1", {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('newReleasesContainer');
        container.innerHTML = "";
        
        data.results.slice(0, 10).forEach(item => {
          if (item.poster_path) {
            container.appendChild(createMovieCard(item));
          }
        });
        
        swipers.newReleases.update();
      });
    }
    
    // Fetch horror movies
    function fetchHorrorMovies() {
      fetch("https://api.themoviedb.org/3/discover/movie?with_genres=27&sort_by=popularity.desc", {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('horrorContainer');
        container.innerHTML = "";
        
        data.results.slice(0, 10).forEach(item => {
          if (item.poster_path) {
            container.appendChild(createMovieCard(item));
          }
        });
        
        swipers.horror.update();
      });
    }
    
    // Fetch anime content (using animation genre as approximation)
    function fetchAnimeContent() {
      fetch("https://api.themoviedb.org/3/discover/movie?with_genres=16&sort_by=popularity.desc", {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('animeContainer');
        container.innerHTML = "";
        
        data.results.slice(0, 10).forEach(item => {
          if (item.poster_path) {
            container.appendChild(createMovieCard(item));
          }
        });
        
        swipers.anime.update();
      });
    }
    
    // Fetch top 10 movies
    function fetchTop10Movies() {
      fetch("https://api.themoviedb.org/3/movie/top_rated?language=en-US&page=1", {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        const container = document.getElementById('top10Container');
        container.innerHTML = "";
        
        // Take only top 10
        data.results.slice(0, 10).forEach((item, index) => {
          if (item.poster_path) {
            const card = document.createElement('div');
            card.className = 'swiper-slide cursor-pointer relative group';
            
            card.innerHTML = `
              <div class="relative rounded-lg overflow-hidden bg-gray-800/50 border border-gray-700/30 hover:border-primary transition-all">
                <div class="absolute -left-2 top-4 z-10">
                  <div class="bg-primary text-white font-bold text-lg px-4 py-1 rounded-r-full shadow">
                    #${index + 1}
                  </div>
                </div>
                <img src="https://image.tmdb.org/t/p/w342${item.poster_path}" class="w-full aspect-[2/3] object-cover" alt="${item.title}" />
                <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end">
                  <div class="p-4">
                    <h3 class="font-bold text-sm md:text-base">${item.title}</h3>
                    <div class="flex items-center gap-2 mt-1">
                      <div class="star-rating text-xs">${"★".repeat(Math.round(item.vote_average / 2))}</div>
                      <span class="text-xs">${item.vote_average.toFixed(1)}</span>
                    </div>
                  </div>
                </div>
              </div>
            `;
            
            card.addEventListener('click', () => {
              openPlayer({
                id: item.id,
                title: item.title,
                media_type: 'movie'
              });
            });
            
            container.appendChild(card);
          }
        });
        
        // Update the swiper
        swipers.top10.update();
      })
      .catch(err => {
        console.error("Error fetching top 10 movies:", err);
      });
    }

    // Perform a search for movies/series
    function performMovieSearch(query) {
      if (!query) {
        searchResultsSection.classList.add('hidden');
        return;
      }
      
      console.log("Searching for:", query);
      // Display loading message
      movieGrid.innerHTML = `
        <div class="flex justify-center items-center h-48 w-full col-span-full">
          <div class="text-center">
            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
            <span class="text-gray-300">Searching...</span>
          </div>
        </div>
      `;
      
      // Get filter values
      const type = typeFilter.value;
      const genre = genreFilter.value;
      const sort = sortFilter.value;
      
      // Determine which API to use based on type filter
      let endpoint = "search/multi";
      let params = `query=${encodeURIComponent(query)}&include_adult=false`;
      
      if (type !== 'all' && !query) {
        endpoint = `discover/${type}`;
        params = `sort_by=${sort}`;
        if (genre !== 'all') {
          params += `&with_genres=${genre}`;
        }
      }
      
      fetch(`https://api.themoviedb.org/3/${endpoint}?${params}&language=en-US&page=1`, {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        console.log("Search results:", data);
        
        // Filter results based on type if needed
        let results = data.results;
        if (endpoint === 'search/multi' && type !== 'all') {
          results = results.filter(item => item.media_type === type);
        }
        
        renderMovies(results);
      })
      .catch(err => {
        console.error("Error fetching search results:", err);
        movieGrid.innerHTML = `<p class="text-center w-full col-span-full text-red-400 py-8">Error searching: ${err.message}</p>`;
      });
    }

    // Event Listeners
    
    // Search input with debounce
    searchInput.addEventListener("input", () => {
      clearTimeout(searchDebounce);
      searchDebounce = setTimeout(() => {
        performMovieSearch(searchInput.value.trim());
      }, 300);
    });
    
    // Filter change handlers
    typeFilter.addEventListener('change', () => {
      if (searchInput.value.trim()) {
        performMovieSearch(searchInput.value.trim());
      }
    });
    
    genreFilter.addEventListener('change', () => {
      if (searchInput.value.trim()) {
        performMovieSearch(searchInput.value.trim());
      }
    });
    
    sortFilter.addEventListener('change', () => {
      if (searchInput.value.trim()) {
        performMovieSearch(searchInput.value.trim());
      }
    });
    
    // Category card click handlers
    document.querySelectorAll('#content-categories [data-genre]').forEach(card => {
      card.addEventListener('click', () => {
        // Switch to the stream tab
        document.getElementById('tab-stream').click();
        
        // Set the genre filter to this genre
        genreFilter.value = card.getAttribute('data-genre');
        
        // Clear the search input and trigger a genre-based search
        searchInput.value = '';
        performMovieSearch('');
      });
    });

    // Close player when clicking the close button
    closePlayerBtn.addEventListener("click", closePlayer);
    
    // Change source when selecting a different one
    sourceSelect.addEventListener('change', function() {
      loadSource(parseInt(this.value, 10));
    });
    
    // Update episode button click
    updateEpisodeButton.addEventListener('click', function() {
      buildEmbedSources();
      populateSourceDropdown();
      loadSource(sourceSelect.value ? parseInt(sourceSelect.value, 10) : 0);
    });
    
    // Keyboard shortcuts for player navigation
    document.addEventListener('keydown', function(e) {
      // Only process if player modal is open and we're in TV mode
      if (!playerModal.classList.contains("active") || currentMediaType !== "tv") return;
      
      if (e.key === 'Escape') {
        closePlayer();
      } else if (e.key === 'ArrowRight') {
        // Next episode
        episodeInput.value = parseInt(episodeInput.value, 10) + 1;
        updateEpisodeButton.click();
      } else if (e.key === 'ArrowLeft') {
        // Previous episode (if we're not at episode 1)
        if (parseInt(episodeInput.value, 10) > 1) {
          episodeInput.value = parseInt(episodeInput.value, 10) - 1;
          updateEpisodeButton.click();
        }
      } else if (e.key === 'ArrowUp') {
        // Next season
        seasonInput.value = parseInt(seasonInput.value, 10) + 1;
        episodeInput.value = 1; // Reset episode to 1
        updateEpisodeButton.click();
      } else if (e.key === 'ArrowDown') {
        // Previous season (if we're not at season 1)
        if (parseInt(seasonInput.value, 10) > 1) {
          seasonInput.value = parseInt(seasonInput.value, 10) - 1;
          episodeInput.value = 1; // Reset episode to 1
          updateEpisodeButton.click();
        }
      }
    });
    
    // Close modal if clicking outside of content
    window.addEventListener('click', function(e) {
      if (e.target === playerModal) {
        closePlayer();
      }
    });

    // On initial load, show trending items
    window.addEventListener("DOMContentLoaded", () => {
      console.log("DOM loaded, fetching trending items");
      fetchTrendingItems();
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', function(e) {
      const searchDropdown = document.getElementById('searchDropdown');
      const searchInput = document.getElementById('movieSearchInput');
      
      if (!searchInput.contains(e.target) && !searchDropdown.contains(e.target)) {
        searchDropdown.classList.add('hidden');
      }
    });

    // Performance optimizations
    let lastScrollTime = 0;
    const scrollThrottle = 100; // ms
    
    // Debounce function for better performance
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }
    
    // Throttle function for scroll events
    function throttle(func, limit) {
      let inThrottle;
      return function(...args) {
        if (!inThrottle) {
          func.apply(this, args);
          inThrottle = true;
          setTimeout(() => inThrottle = false, limit);
        }
      }
    }
    
    // Optimized scroll handler
    const handleScroll = throttle(() => {
      const now = Date.now();
      if (now - lastScrollTime >= scrollThrottle) {
        lastScrollTime = now;
        // Update swiper positions
        Object.values(swipers).forEach(swiper => {
          if (swiper && swiper.update) {
            swiper.update();
          }
        });
      }
    }, scrollThrottle);
    
    // Add scroll listener
    window.addEventListener('scroll', handleScroll, { passive: true });
    
    // Initialize category swipers
    function initializeCategorySwipers() {
      document.querySelectorAll('.categorySwiper').forEach((element, index) => {
        const genreId = element.closest('[data-genre]')?.getAttribute('data-genre');
        if (genreId) {
          fetch(`https://api.themoviedb.org/3/discover/movie?with_genres=${genreId}&sort_by=popularity.desc`, {
            headers: {
              Authorization: 'Bearer ' + tmdbToken,
              'Content-Type': 'application/json;charset=utf-8'
            }
          })
          .then(response => response.json())
          .then(data => {
            const wrapper = element.querySelector('.swiper-wrapper');
            wrapper.innerHTML = '';
            
            data.results.slice(0, 5).forEach(movie => {
              if (movie.poster_path) {
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.innerHTML = `
                  <div class="rounded-lg overflow-hidden bg-gray-800/50 border border-gray-700/30 h-full">
                    <img src="https://image.tmdb.org/t/p/w342${movie.poster_path}" class="w-full h-full object-cover" alt="${movie.title}">
                  </div>
                `;
                wrapper.appendChild(slide);
              }
            });
            
            new Swiper(element, {
              slidesPerView: 2.2,
              spaceBetween: 10,
              freeMode: true,
              observer: true,
              observeParents: true
            });
          });
        }
      });
    }
    
    // Initialize collection swipers
    function initializeCollectionSwipers() {
      document.querySelectorAll('.collectionSwiper').forEach((element, index) => {
        // Add collection-specific API calls here
        // Similar to category swipers but for collections
      });
    }
    
    // Update tab click handler to initialize category swipers
    document.querySelectorAll('.tab-btn').forEach(tab => {
      tab.addEventListener('click', function() {
        const tabId = this.id.split('-')[1];
        if (tabId === 'categories') {
          return; // Skip categories tab
        }
        // ... rest of the tab click handler
      });
    });

    // Initialize category folders
    function initializeCategoryFolders() {
      document.querySelectorAll('.category-folder-header').forEach(header => {
        header.addEventListener('click', () => {
          const folder = header.parentElement;
          folder.classList.toggle('expanded');
          const arrow = header.querySelector('svg');
          arrow.style.transform = folder.classList.contains('expanded') ? 'rotate(180deg)' : 'rotate(0)';
          
          // Initialize swiper when folder is expanded
          if (folder.classList.contains('expanded')) {
            const swiperId = folder.querySelector('.swiper').classList[1];
            if (!swipers[swiperId]) {
              initializeCollectionSwiper(swiperId);
            }
          }
        });
      });
    }

    // Initialize collection swiper
    function initializeCollectionSwiper(swiperId) {
      let endpoint, params;
      
      switch(swiperId) {
        case 'harryPotterSwiper':
          endpoint = 'search/movie';
          params = 'query=Harry+Potter&include_adult=false';
          break;
        case 'kdramaSwiper':
          endpoint = 'discover/tv';
          params = 'with_original_language=ko&sort_by=popularity.desc';
          break;
      }
      
      fetch(`https://api.themoviedb.org/3/${endpoint}?${params}`, {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        const wrapper = document.querySelector(`.${swiperId} .swiper-wrapper`);
        wrapper.innerHTML = '';
        
        data.results.slice(0, 10).forEach(item => {
          if (item.poster_path) {
            const slide = document.createElement('div');
            slide.className = 'swiper-slide';
            slide.innerHTML = `
              <div class="rounded-lg overflow-hidden bg-gray-800/50 border border-gray-700/30 h-full">
                <img src="https://image.tmdb.org/t/p/w342${item.poster_path}" class="w-full h-full object-cover" alt="${item.title || item.name}">
                <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 hover:opacity-100 transition-opacity flex items-end p-3">
                  <button class="watch-btn" data-id="${item.id}" data-type="${item.media_type || 'movie'}" data-title="${item.title || item.name}">
                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
                    </svg>
                    Watch Now
                  </button>
                </div>
              </div>
            `;
            
            // Add click handler to the watch button
            slide.querySelector('.watch-btn').addEventListener('click', () => {
              openPlayer({
                id: item.id,
                title: item.title || item.name,
                media_type: item.media_type || 'movie'
              });
            });
            
            wrapper.appendChild(slide);
          }
        });
        
        swipers[swiperId] = new Swiper(`.${swiperId}`, {
          slidesPerView: 2.2,
          spaceBetween: 16,
          navigation: {
            nextEl: `.${swiperId} .swiper-button-next`,
            prevEl: `.${swiperId} .swiper-button-prev`,
          },
          observer: true,
          observeParents: true,
          watchSlidesProgress: true,
          watchSlidesVisibility: true,
          breakpoints: {
            640: {
              slidesPerView: 3.2,
            },
            768: {
              slidesPerView: 4.2,
            },
            1024: {
              slidesPerView: 5.2,
            }
          }
        });
      });
    }

    // Track recent activity
    let recentActivity = JSON.parse(localStorage.getItem('recentActivity') || '[]');

    function addToRecentActivity(mediaItem) {
      const activity = {
        id: mediaItem.id,
        title: mediaItem.title,
        type: mediaItem.media_type,
        poster_path: mediaItem.poster_path,
        timestamp: Date.now()
      };
      
      // Remove if already exists
      recentActivity = recentActivity.filter(item => item.id !== activity.id);
      // Add to beginning
      recentActivity.unshift(activity);
      // Keep only last 5
      recentActivity = recentActivity.slice(0, 5);
      
      localStorage.setItem('recentActivity', JSON.stringify(recentActivity));
      updateRecentActivityDisplay();
    }

    function updateRecentActivityDisplay() {
      const container = document.getElementById('recentActivityList');
      container.innerHTML = '';
      
      recentActivity.forEach(activity => {
        const item = document.createElement('div');
        item.className = 'recent-activity-item';
        item.innerHTML = `
          <img src="https://image.tmdb.org/t/p/w92${activity.poster_path}" class="w-12 h-16 object-cover rounded" alt="${activity.title}" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'92\\' height=\\'138\\' viewBox=\\'0 0 92 138\\'%3E%3Crect width=\\'92\\' height=\\'138\\' fill=\\'%23212121\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' font-family=\\'Arial\\' font-size=\\'14\\' fill=\\'white\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3ENo Image%3C/text%3E%3C/svg%3E';">
          <div class="flex-1">
            <h4 class="font-medium">${activity.title}</h4>
            <p class="text-sm text-gray-400">${new Date(activity.timestamp).toLocaleDateString()}</p>
          </div>
          <button class="watch-btn" data-id="${activity.id}" data-type="${activity.type}" data-title="${activity.title}">
            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
            </svg>
            Watch Again
          </button>
        `;
        
        // Add click handler to the watch button
        item.querySelector('.watch-btn').addEventListener('click', () => {
          openPlayer({
            id: activity.id,
            title: activity.title,
            media_type: activity.type,
            poster_path: activity.poster_path
          });
        });
        
        container.appendChild(item);
      });
    }

    // Initialize everything when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      initializeSwipers();
      initializeCategoryFolders();
      updateRecentActivityDisplay();
      loadRandomMovieFact();
    });

    // Info Modal functionality
    const infoModal = document.getElementById('infoModal');
    const closeInfoModal = document.getElementById('closeInfoModal');
    const infoModalTitle = document.getElementById('infoModalTitle');
    const infoModalPoster = document.getElementById('infoModalPoster');
    const infoModalRating = document.getElementById('infoModalRating');
    const infoModalScore = document.getElementById('infoModalScore');
    const infoModalGenres = document.getElementById('infoModalGenres');
    const infoModalOverview = document.getElementById('infoModalOverview');
    const infoModalWatchBtn = document.getElementById('infoModalWatchBtn');

    function showInfoModal(mediaItem) {
      infoModalTitle.textContent = mediaItem.title;
      infoModalPoster.src = `https://image.tmdb.org/t/p/w500${mediaItem.poster_path}`;
      infoModalPoster.alt = mediaItem.title;
      
      const rating = mediaItem.vote_average || getRandomRating();
      const stars = Math.round(rating / 2);
      infoModalRating.innerHTML = "★".repeat(stars) + "☆".repeat(5-stars);
      infoModalScore.textContent = rating.toFixed(1);
      
      // Fetch genres
      fetch(`https://api.themoviedb.org/3/${mediaItem.media_type}/${mediaItem.id}`, {
        headers: {
          Authorization: 'Bearer ' + tmdbToken,
          'Content-Type': 'application/json;charset=utf-8'
        }
      })
      .then(response => response.json())
      .then(data => {
        infoModalGenres.innerHTML = data.genres.map(genre => 
          `<span class="info-modal-genre">${genre.name}</span>`
        ).join('');
        infoModalOverview.textContent = data.overview;
      });
      
      infoModalWatchBtn.onclick = () => {
        closeInfoModal.click();
        openPlayer(mediaItem);
      };
      
      infoModal.classList.add('active');
    }

    closeInfoModal.addEventListener('click', () => {
      infoModal.classList.remove('active');
    });

    // Update categories tab content
    function updateCategoriesTab() {
      const categoriesContent = document.getElementById('content-categories');
      
      // Recent Watches Section
      const recentWatches = document.createElement('div');
      recentWatches.className = 'recent-watches';
      recentWatches.innerHTML = `
        <h3 class="text-xl font-bold mb-4">Recent Watches</h3>
        <div class="recent-watches-grid" id="recentWatchesGrid"></div>
      `;
      categoriesContent.insertBefore(recentWatches, categoriesContent.firstChild);
      
      // Update recent watches grid
      updateRecentWatchesGrid();
      
      // Categories Grid
      const categoriesGrid = document.createElement('div');
      categoriesGrid.className = 'categories-grid';
      categoriesGrid.innerHTML = `
        <div class="category-card" style="background-image: url('https://image.tmdb.org/t/p/w500/1GqKJQJQJQJQJQJQJQJQJQJQJQJQ.jpg')">
          <div class="category-card-content">
            <h3 class="category-card-title">Harry Potter Collection</h3>
            <p class="category-card-description">Magical journeys through Hogwarts and beyond</p>
            <div class="category-card-meta">
              <span>8 Movies</span>
              <span>•</span>
              <span>1997-2011</span>
            </div>
          </div>
        </div>
        <div class="category-card" style="background-image: url('https://image.tmdb.org/t/p/w500/1GqKJQJQJQJQJQJQJQJQJQJQJQJQJ.jpg')">
          <div class="category-card-content">
            <h3 class="category-card-title">Popular K-Dramas</h3>
            <p class="category-card-description">Top Korean dramas and series</p>
            <div class="category-card-meta">
              <span>12 Series</span>
              <span>•</span>
              <span>Latest Releases</span>
            </div>
          </div>
        </div>
        <!-- Add more category cards as needed -->
      `;
      categoriesContent.appendChild(categoriesGrid);
    }

    function updateRecentWatchesGrid() {
      const grid = document.getElementById('recentWatchesGrid');
      grid.innerHTML = '';
      
      recentActivity.forEach(activity => {
        const item = document.createElement('div');
        item.className = 'recent-watch-item';
        item.innerHTML = `
          <img src="https://image.tmdb.org/t/p/w342${activity.poster_path}" class="w-full h-full object-cover" alt="${activity.title}" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\\'http://www.w3.org/2000/svg\\' width=\\'342\\' height=\\'513\\' viewBox=\\'0 0 342 513\\'%3E%3Crect width=\\'342\\' height=\\'513\\' fill=\\'%23212121\\'/%3E%3Ctext x=\\'50%25\\' y=\\'50%25\\' font-family=\\'Arial\\' font-size=\\'14\\' fill=\\'white\\' text-anchor=\\'middle\\' dominant-baseline=\\'middle\\'%3ENo Image%3C/text%3E%3C/svg%3E';">
          <div class="recent-watch-info">
            <h4 class="recent-watch-title">${activity.title}</h4>
            <p class="recent-watch-date">${new Date(activity.timestamp).toLocaleDateString()}</p>
          </div>
        `;
        
        item.addEventListener('click', () => {
          openPlayer({
            id: activity.id,
            title: activity.title,
            media_type: activity.type,
            poster_path: activity.poster_path
          });
        });
        
        grid.appendChild(item);
      });
    }

    // Status page functionality
    async function checkNextCloudStatus() {
      try {
        const startTime = performance.now();
        const response = await fetch('https://cloud.pranavsatav.me/status.php', { cache: 'no-store' });
        const endTime = performance.now();
        const responseTime = Math.round(endTime - startTime);
        
        const statusIndicator = document.getElementById('nextcloud-status');
        const statusText = document.getElementById('nextcloud-status-text');
        
        if (response.ok) {
          statusIndicator.className = 'w-2 h-2 rounded-full bg-green-500';
          statusText.className = 'text-sm text-green-400';
          statusText.textContent = 'Operational';
        } else {
          statusIndicator.className = 'w-2 h-2 rounded-full bg-red-500';
          statusText.className = 'text-sm text-red-400';
          statusText.textContent = 'Not Operational';
        }
        
        return responseTime;
      } catch (error) {
        const statusIndicator = document.getElementById('nextcloud-status');
        const statusText = document.getElementById('nextcloud-status-text');
        statusIndicator.className = 'w-2 h-2 rounded-full bg-red-500';
        statusText.className = 'text-sm text-red-400';
        statusText.textContent = 'Not Operational';
        return null;
      }
    }
    
    async function checkTMDBStatus() {
      try {
        const startTime = performance.now();
        const response = await fetch('https://api.themoviedb.org/3/movie/popular?language=en-US&page=1', {
          headers: {
            Authorization: 'Bearer ' + tmdbToken,
            'Content-Type': 'application/json;charset=utf-8'
          }
        });
        const endTime = performance.now();
        const responseTime = Math.round(endTime - startTime);
        
        const statusIndicator = document.getElementById('api-status-indicator');
        const statusText = document.getElementById('tmdb-status');
        const latencyText = document.getElementById('tmdb-latency');
        
        if (response.ok) {
          statusIndicator.className = 'w-2 h-2 rounded-full bg-green-500';
          statusText.textContent = 'Operational';
          latencyText.textContent = `${responseTime}ms`;
        } else {
          statusIndicator.className = 'w-2 h-2 rounded-full bg-red-500';
          statusText.textContent = 'Not Operational';
          latencyText.textContent = '-';
        }
      } catch (error) {
        const statusIndicator = document.getElementById('api-status-indicator');
        const statusText = document.getElementById('tmdb-status');
        const latencyText = document.getElementById('tmdb-latency');
        statusIndicator.className = 'w-2 h-2 rounded-full bg-red-500';
        statusText.textContent = 'Not Operational';
        latencyText.textContent = '-';
      }
    }
    
    async function getServerIP() {
      try {
        const response = await fetch('https://api.ipify.org?format=json');
        const data = await response.json();
        document.getElementById('server-ip').textContent = data.ip;
      } catch (error) {
        document.getElementById('server-ip').textContent = 'Unknown';
      }
    }
    
    async function updateAnalytics() {
      try {
        // Get visitor count from localStorage
        let visitorCount = localStorage.getItem('visitorCount') || 0;
        visitorCount = parseInt(visitorCount) + 1;
        localStorage.setItem('visitorCount', visitorCount);
        
        // Get active users (sessions in last 5 minutes)
        const activeUsers = Math.floor(Math.random() * 10) + 1; // Simulated for now
        
        document.getElementById('active-users').textContent = activeUsers;
        document.getElementById('cdn-traffic').textContent = visitorCount;
        
        const statusIndicator = document.getElementById('analytics-status');
        const statusText = document.getElementById('analytics-status-text');
        statusIndicator.className = 'w-2 h-2 rounded-full bg-green-500';
        statusText.className = 'text-sm text-green-400';
        statusText.textContent = 'Operational';
      } catch (error) {
        const statusIndicator = document.getElementById('analytics-status');
        const statusText = document.getElementById('analytics-status-text');
        statusIndicator.className = 'w-2 h-2 rounded-full bg-red-500';
        statusText.className = 'text-sm text-red-400';
        statusText.textContent = 'Not Operational';
      }
    }
    
    async function updateStatusPage() {
      // Update last updated timestamp
      document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
      
      // Check NextCloud status and get response time
      const responseTime = await checkNextCloudStatus();
      if (responseTime !== null) {
        document.getElementById('response-time').textContent = `${responseTime}ms`;
      } else {
        document.getElementById('response-time').textContent = 'Unknown';
      }
      
      // Check TMDB API status
      await checkTMDBStatus();
      
      // Get server IP
      await getServerIP();
      
      // Update analytics
      await updateAnalytics();
      
      // Update overall status bar
      updateStatusBar();
    }
    
    function updateStatusBar() {
      const statusBar = document.getElementById('status-bar');
      const redBar = statusBar.nextElementSibling;
      const yellowBar = redBar.nextElementSibling;
      
      // Check if any service is down
      const isNextCloudDown = document.getElementById('nextcloud-status').classList.contains('bg-red-500');
      const isTMDBDown = document.getElementById('api-status-indicator').classList.contains('bg-red-500');
      const isAnalyticsDown = document.getElementById('analytics-status').classList.contains('bg-red-500');
      
      if (isNextCloudDown || isTMDBDown || isAnalyticsDown) {
        statusBar.classList.add('hidden');
        redBar.classList.remove('hidden');
        yellowBar.classList.add('hidden');
      } else {
        statusBar.classList.remove('hidden');
        redBar.classList.add('hidden');
        yellowBar.classList.add('hidden');
      }
    }
    
    // Initialize status page updates
    setInterval(updateStatusPage, 5000);
    updateStatusPage();
    
    // Initialize uptime chart and status page data
    let uptimeChart;
    let statusHistory = {
      nextcloud: [],
      tmdb: [],
      postgres: [],
      nginx: []
    };
    
    // Create some sample uptime data (in a real app, this would come from server)
    function generateSampleUptimeData(period = '24h') {
      let dataPoints = period === '24h' ? 24 : period === '7d' ? 7 : 30;
      let labels = [];
      let uptimeData = [];
      let responseTimeData = [];
      
      // Generate timestamps
      const now = new Date();
      for (let i = dataPoints - 1; i >= 0; i--) {
        let date = new Date(now);
        if (period === '24h') {
          date.setHours(now.getHours() - i);
          labels.push(date.getHours() + ':00');
        } else {
          date.setDate(now.getDate() - i);
          labels.push(date.getDate() + '/' + (date.getMonth() + 1));
        }
        
        // Generate uptime percentage (mostly 100% with occasional dips)
        let uptime = 100;
        if (Math.random() < 0.15) { // 15% chance of having some issue
          uptime = 90 + Math.random() * 9.9; // Between 90% and 99.9%
        }
        uptimeData.push(uptime);
        
        // Generate response time data (normally between 100-400ms)
        let responseTime = 100 + Math.random() * 300;
        if (uptime < 99) {
          responseTime += 200 + Math.random() * 300; // Higher response time during issues
        }
        responseTimeData.push(responseTime);
      }
      
      return { labels, uptimeData, responseTimeData };
    }
    
    function initializeUptimeChart() {
      const ctx = document.getElementById('uptimeChart').getContext('2d');
      const data = generateSampleUptimeData();
      
      uptimeChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: data.labels,
          datasets: [
            {
              label: 'Uptime %',
              data: data.uptimeData,
              backgroundColor: 'rgba(34, 197, 94, 0.2)',
              borderColor: 'rgba(34, 197, 94, 1)',
              borderWidth: 2,
              pointRadius: 0,
              pointHoverRadius: 5,
              pointHitRadius: 10,
              tension: 0.3,
              fill: true,
              yAxisID: 'y'
            },
            {
              label: 'Response Time (ms)',
              data: data.responseTimeData,
              backgroundColor: 'rgba(59, 130, 246, 0.2)',
              borderColor: 'rgba(59, 130, 246, 1)',
              borderWidth: 2,
              pointRadius: 0,
              pointHoverRadius: 5,
              pointHitRadius: 10,
              tension: 0.3,
              fill: false,
              yAxisID: 'y1'
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          interaction: {
            mode: 'index',
            intersect: false,
          },
          scales: {
            y: {
              min: 90,
              max: 100,
              position: 'left',
              title: {
                display: true,
                text: 'Uptime %',
                color: 'rgba(255, 255, 255, 0.7)'
              },
              grid: {
                color: 'rgba(255, 255, 255, 0.05)'
              },
              ticks: {
                color: 'rgba(255, 255, 255, 0.7)'
              }
            },
            y1: {
              min: 0,
              position: 'right',
              title: {
                display: true,
                text: 'Response Time (ms)',
                color: 'rgba(255, 255, 255, 0.7)'
              },
              grid: {
                display: false
              },
              ticks: {
                color: 'rgba(255, 255, 255, 0.7)'
              }
            },
            x: {
              grid: {
                color: 'rgba(255, 255, 255, 0.05)'
              },
              ticks: {
                color: 'rgba(255, 255, 255, 0.7)'
              }
            }
          },
          plugins: {
            legend: {
              position: 'top',
              labels: {
                color: 'rgba(255, 255, 255, 0.7)',
                boxWidth: 12,
                padding: 10
              }
            },
            tooltip: {
              backgroundColor: 'rgba(15, 23, 42, 0.9)',
              titleColor: 'rgba(255, 255, 255, 0.9)',
              bodyColor: 'rgba(255, 255, 255, 0.9)',
              borderColor: 'rgba(148, 163, 184, 0.2)',
              borderWidth: 1,
              padding: 10,
              boxPadding: 4
            }
          }
        }
      });
      
      // Setup period buttons
      const periodButtons = document.querySelectorAll('.uptime-period-btn');
      periodButtons.forEach(button => {
        button.addEventListener('click', function() {
          const period = this.dataset.period;
          
          // Update active state
          periodButtons.forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
          
          // Update chart data
          updateUptimeChart(period);
        });
      });
    }
    
    function updateUptimeChart(period = '24h') {
      const data = generateSampleUptimeData(period);
      
      uptimeChart.data.labels = data.labels;
      uptimeChart.data.datasets[0].data = data.uptimeData;
      uptimeChart.data.datasets[1].data = data.responseTimeData;
      uptimeChart.update();
      
      // Update uptime stats
      let avgUptime = data.uptimeData.reduce((a, b) => a + b, 0) / data.uptimeData.length;
      if (period === '24h') {
        document.getElementById('uptime-24h').textContent = avgUptime.toFixed(1) + '%';
      } else if (period === '7d') {
        document.getElementById('uptime-7d').textContent = avgUptime.toFixed(1) + '%';
      }
      
      // Calculate operational time, downtime, and degraded performance
      let totalMinutes = period === '24h' ? 24 * 60 : period === '7d' ? 7 * 24 * 60 : 30 * 24 * 60;
      let downtimeMinutes = Math.round((100 - avgUptime) / 100 * totalMinutes * 0.7); // 70% of the non-uptime is downtime
      let degradedMinutes = Math.round((100 - avgUptime) / 100 * totalMinutes * 0.3); // 30% of the non-uptime is degraded
      let operationalMinutes = totalMinutes - downtimeMinutes - degradedMinutes;
      
      // Format times
      function formatTime(minutes) {
        const hours = Math.floor(minutes / 60);
        const mins = minutes % 60;
        if (hours > 0) {
          return `${hours}h ${mins}m`;
        }
        return `${mins}m`;
      }
      
      document.getElementById('operational-time').textContent = formatTime(operationalMinutes);
      document.getElementById('downtime').textContent = formatTime(downtimeMinutes);
      document.getElementById('degraded-time').textContent = formatTime(degradedMinutes);
    }
    
    async function checkDatabaseStatus() {
      try {
        // Simulated database check (in real app, you'd check a real database endpoint)
        const statusIndicator = document.getElementById('database-status');
        const statusText = document.getElementById('database-status-text');
        const lastChecked = document.getElementById('database-last-checked');
        
        // Random simulation of status (normally operational)
        const isOperational = Math.random() > 0.1; // 90% chance of being operational
        
        if (isOperational) {
          statusIndicator.className = 'w-3 h-3 rounded-full bg-green-500';
          statusText.className = 'text-sm text-green-400';
          statusText.textContent = 'Operational';
        } else {
          statusIndicator.className = 'w-3 h-3 rounded-full bg-red-500';
          statusText.className = 'text-sm text-red-400';
          statusText.textContent = 'Not Operational';
        }
        
        lastChecked.textContent = new Date().toLocaleTimeString();
      } catch (error) {
        const statusIndicator = document.getElementById('database-status');
        const statusText = document.getElementById('database-status-text');
        statusIndicator.className = 'w-3 h-3 rounded-full bg-red-500';
        statusText.className = 'text-sm text-red-400';
        statusText.textContent = 'Not Operational';
      }
    }
    
    async function checkNginxStatus() {
      try {
        // Simulated nginx check (in real app, you'd check a real nginx endpoint)
        const statusIndicator = document.getElementById('nginx-status');
        const statusText = document.getElementById('nginx-status-text');
        const lastChecked = document.getElementById('nginx-last-checked');
        
        // Random simulation of status (normally operational)
        const isOperational = Math.random() > 0.05; // 95% chance of being operational
        
        if (isOperational) {
          statusIndicator.className = 'w-3 h-3 rounded-full bg-green-500';
          statusText.className = 'text-sm text-green-400';
          statusText.textContent = 'Operational';
        } else {
          statusIndicator.className = 'w-3 h-3 rounded-full bg-red-500';
          statusText.className = 'text-sm text-red-400';
          statusText.textContent = 'Not Operational';
        }
        
        lastChecked.textContent = new Date().toLocaleTimeString();
      } catch (error) {
        const statusIndicator = document.getElementById('nginx-status');
        const statusText = document.getElementById('nginx-status-text');
        statusIndicator.className = 'w-3 h-3 rounded-full bg-red-500';
        statusText.className = 'text-sm text-red-400';
        statusText.textContent = 'Not Operational';
      }
    }
    
    async function updateStatusPage() {
      // Update last updated timestamp
      document.getElementById('last-updated').textContent = new Date().toLocaleTimeString();
      
      // Check NextCloud status and get response time
      const responseTime = await checkNextCloudStatus();
      if (responseTime !== null) {
        document.getElementById('response-time').textContent = `${responseTime}ms`;
        
        // Update average response time (with weighted average)
        const avgResponseTime = document.getElementById('avg-response-time');
        const currentAvg = parseInt(avgResponseTime.textContent) || 200;
        const newAvg = Math.round(currentAvg * 0.8 + responseTime * 0.2); // 80% old, 20% new
        avgResponseTime.textContent = `${newAvg}ms`;
        
        // Update last failure timestamp (simulated)
        const lastFailure = Math.random() > 0.7 ? 'None' : 'Apr 25, 2023 3:45 PM';
        document.getElementById('last-failure-cloud').textContent = lastFailure;
      } else {
        document.getElementById('response-time').textContent = 'Unknown';
      }
      
      // Check NextCloud last checked time
      document.getElementById('nextcloud-last-checked').textContent = new Date().toLocaleTimeString();
      
      // Check TMDB API status
      await checkTMDBStatus();
      document.getElementById('tmdb-requests').textContent = Math.floor(Math.random() * 5000); // Random sample data
      
      // Update streaming service status
      const streamingStatusIndicator = document.getElementById('streaming-status');
      const streamingStatusText = document.getElementById('streaming-status-text');
      const streamingLastChecked = document.getElementById('streaming-last-checked');
      
      // Random simulation (95% operational)
      if (Math.random() > 0.05) {
        streamingStatusIndicator.className = 'w-3 h-3 rounded-full bg-green-500';
        streamingStatusText.className = 'text-sm text-green-400';
        streamingStatusText.textContent = 'Operational';
      } else {
        streamingStatusIndicator.className = 'w-3 h-3 rounded-full bg-red-500';
        streamingStatusText.className = 'text-sm text-red-400';
        streamingStatusText.textContent = 'Not Operational';
      }
      streamingLastChecked.textContent = new Date().toLocaleTimeString();
      
      // Get server IP
      await getServerIP();
      
      // Check additional services
      await checkDatabaseStatus();
      await checkNginxStatus();
      
      // Update overall status bar
      updateStatusBar();
      
      // Initialize uptime chart if not already initialized
      if (!uptimeChart && document.getElementById('uptimeChart')) {
        initializeUptimeChart();
      }
    }
    
    function updateStatusBar() {
      const statusBar = document.getElementById('status-bar');
      const redBar = statusBar.nextElementSibling;
      const yellowBar = redBar.nextElementSibling;
      const statusText = document.getElementById('overall-status-text');
      
      // Check if any service is down
      const isNextCloudDown = document.getElementById('nextcloud-status').classList.contains('bg-red-500');
      const isTMDBDown = document.getElementById('api-status-indicator').classList.contains('bg-red-500');
      const isDatabaseDown = document.getElementById('database-status').classList.contains('bg-red-500');
      const isNginxDown = document.getElementById('nginx-status').classList.contains('bg-red-500');
      const isStreamingDown = document.getElementById('streaming-status').classList.contains('bg-red-500');
      
      // Count total down services
      const downServices = [isNextCloudDown, isTMDBDown, isDatabaseDown, isNginxDown, isStreamingDown].filter(Boolean).length;
      
      if (downServices > 1) {
        // Multiple services are down - major outage
        statusBar.classList.add('hidden');
        redBar.classList.remove('hidden');
        yellowBar.classList.add('hidden');
        statusText.textContent = 'Major System Outage';
      } else if (downServices === 1) {
        // One service is down - partial outage
        statusBar.classList.add('hidden');
        redBar.classList.add('hidden');
        yellowBar.classList.remove('hidden');
        statusText.textContent = 'Partial System Outage';
      } else {
        // All systems operational
        statusBar.classList.remove('hidden');
        redBar.classList.add('hidden');
        yellowBar.classList.add('hidden');
        statusText.textContent = 'All Systems Operational';
      }
    }
    
    // Load random movie fact
    loadRandomMovieFact();
    
    // Create special anime-style particles for About tab
    function initializeAboutParticles() {
      const aboutContainer = document.querySelector('.anime-profile-container');
      if (aboutContainer) {
        // Create particles container if it doesn't exist
        if (!document.getElementById('about-particles')) {
          const particlesDiv = document.createElement('div');
          particlesDiv.id = 'about-particles';
          particlesDiv.className = 'absolute inset-0 -z-10';
          aboutContainer.prepend(particlesDiv);
          
          // Load anime style particles
          tsParticles.load("about-particles", {
            fullScreen: false,
            background: { 
              color: { value: "transparent" } 
            },
            particles: {
              number: { 
                value: 50,
                density: {
                  enable: true,
                  value_area: 800
                }
              },
              color: { 
                value: ["#ff77e1", "#78d0ff", "#a178ff"] 
              },
              shape: { 
                type: ["circle", "star"],
                stroke: {
                  width: 0,
                }
              },
              opacity: { 
                value: 0.5,
                random: true,
                anim: {
                  enable: true,
                  speed: 0.5,
                  opacity_min: 0.1,
                  sync: false
                }
              },
              size: { 
                value: { min: 1, max: 5 },
                random: true,
                anim: {
                  enable: true,
                  speed: 1,
                  size_min: 0.5,
                  sync: false
                }
              },
              move: { 
                enable: true, 
                speed: 1.5, 
                direction: "none", 
                random: true,
                straight: false,
                out_mode: "out",
                bounce: false
              }
            },
            interactivity: {
              detect_on: "canvas",
              events: {
                onhover: {
                  enable: true,
                  mode: "bubble"
                },
                onclick: {
                  enable: true,
                  mode: "repulse"
                },
                resize: true
              },
              modes: {
                bubble: {
                  distance: 100,
                  size: 7,
                  duration: 2,
                  opacity: 0.8,
                  speed: 3
                },
                repulse: {
                  distance: 200,
                  duration: 0.4
                }
              }
            }
          });
        }
      }
    }
    
    // Check if the About tab is initially active
    const activeTab = document.querySelector('.tab-btn.bg-primary');
    if (activeTab && activeTab.id === 'tab-about') {
      initializeAboutParticles();
    }

    // Initialize animations for About tab
    function initializeAboutAnimations() {
      // Animate skill bars when they come into view
      const skillBars = document.querySelectorAll('.skill-bar');
      skillBars.forEach(bar => {
        const width = bar.getAttribute('data-width');
        setTimeout(() => {
          bar.style.width = width;
        }, 300);
      });
      
      // Animate timeline items
      const timelineItems = document.querySelectorAll('.timeline-item');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const content = entry.target.querySelector('.timeline-content');
            content.classList.add('appear');
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.2 });
      
      timelineItems.forEach(item => {
        observer.observe(item);
      });
    }
    
    // Tab switching event listeners
    document.addEventListener('DOMContentLoaded', function() {
      // ... existing code ...
      
      // Initialize About tab animations if it's active
      const aboutTab = document.getElementById('tab-about');
      const aboutContent = document.getElementById('content-about');
      
      if (aboutTab.classList.contains('bg-primary')) {
        initializeAboutParticles();
        initializeAboutAnimations();
      }
      
      // Add click event listener for the About tab
      aboutTab.addEventListener('click', function() {
        initializeAboutParticles();
        initializeAboutAnimations();
      });
    });
  </script>
</body>
</html>

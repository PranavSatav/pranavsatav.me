<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>My Cozy Corner</title>

  <style>
    @import url('https://fonts.googleapis.com/css?family=Inconsolata');

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      font-family: 'Inconsolata', monospace;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 10px;
      background: rgb(22, 22, 22);
      color: white;
      transition: background 0.5s ease, color 0.5s ease;
    }

    .light-mode {
      background: white;
      color: black;
    }

    .light-mode a {
      color: black !important;
    }

    .light-mode .blue {
      color: #007acc;
    }

    .light-mode .comment {
      color: #666;
    }

    .light-mode .load {
      color: #e67e22;
    }

    .wrap {
      width: 100%;
      max-width: 400px;
      text-align: left;
      overflow: hidden;
    }

    pre {
      font-size: min(3.5vw, 12px);
      white-space: pre-wrap;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    .blue { color: #48beef; }
    .comment { color: #7f8c8d; }
    .load { color: #f39c12; }

    .theme-toggle {
      cursor: pointer;
      background: none;
      border: none;
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
    }

    .theme-toggle svg {
      width: 32px;
      height: 32px;
      transition: transform 0.5s ease;
    }

    .light-mode .theme-toggle svg {
      transform: rotate(180deg);
    }

    .qr-code {
      margin-top: 10px;
      display: flex;
      justify-content: center;
    }

    a { color: white !important; }
  </style>
</head>
<body>

  <div class="wrap">
    <pre>
(<span class="blue">function</span>( isDev ) {
     <span class="blue">function</span> bootSequence() {
        <span class="blue">if</span>( isDev ) {
            <span class="blue">return</span>;
        }
        console.log <span class="comment">("Access my portfolio here >> <a href='#'>...</a>")</span>
        console.log <span class="comment">("Access private cloud >> <a href='https://cloud.pranavsatav.me/'>NextCloud</a>")</span> 
        console.log <span class="comment">("Cloud Status: <span id='cloud-log-status'>Checking...</span>")</span> 
  }
window.addEventListener( <span class="load">'load'</span>, bootSequence );
}( <span class="blue">true</span> ));
    </pre>

    <!-- Theme Toggle Button -->
    <button class="theme-toggle" onclick="toggleTheme()">
      <svg id="theme-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
        <path id="icon-path" d="M12 3V5 M12 19V21 M12 12m-5 0a5 5 0 1 1 10 0a5 5 0 1 1 -10 0" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>

    <div class="qr-code">
      <canvas id="qrCanvas"></canvas>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

  <script>
    async function checkServerStatus() {
        try {
            let response = await fetch("https://cloud.pranavsatav.me/status.php", { method: "GET" });

            if (response.ok) {
                document.getElementById("cloud-status").innerText = "✅ Cloud is Online";
                document.getElementById("cloud-log-status").innerText = "✅ Cloud is Online";
            } else {
                throw new Error("Server unreachable");
            }
        } catch (error) {
            document.getElementById("cloud-status").innerText = "❌ Cloud is Offline";
            document.getElementById("cloud-log-status").innerText = "❌ Cloud is Offline";
        }
    }
    
    setInterval(checkServerStatus, 5000);
    checkServerStatus();

    function toggleTheme() {
        document.body.classList.toggle("light-mode");

        // Get SVG elements
        const iconPath = document.getElementById("icon-path");
        const isLightMode = document.body.classList.contains("light-mode");

        // Change the SVG icon dynamically
        if (isLightMode) {
            iconPath.setAttribute("d", "M12 3V5 M12 19V21 M5 12H3 M21 12h-2 M16.5 7.5l1.5-1.5M7.5 16.5L6 18 M18 18l-1.5-1.5 M6 6l1.5 1.5");
            iconPath.setAttribute("stroke", "black");
        } else {
            iconPath.setAttribute("d", "M12 3V5 M12 19V21 M12 12m-5 0a5 5 0 1 1 10 0a5 5 0 1 1 -10 0");
            iconPath.setAttribute("stroke", "white");
        }
    }

    new QRCode(document.getElementById("qrCanvas"), {
        text: "https://cloud.pranavsatav.me/",
        width: 100,
        height: 100
    });
  </script>

</body>
</html>
